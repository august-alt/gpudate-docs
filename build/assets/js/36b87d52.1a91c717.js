"use strict";(self.webpackChunkgpupdate_docs=self.webpackChunkgpupdate_docs||[]).push([[1122],{3440:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>a,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var i=n(4848),o=n(8453);const d={},s=void 0,r={id:"gpoa/frontend/appliers/folder",title:"folder",description:"FunctionDef removedirtree(path, deletefiles, deletefolder, deletesubfolders)",source:"@site/docs/gpoa/frontend/appliers/folder.md",sourceDirName:"gpoa/frontend/appliers",slug:"/gpoa/frontend/appliers/folder",permalink:"/docs/gpoa/frontend/appliers/folder",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"firewall_rule",permalink:"/docs/gpoa/frontend/appliers/firewall_rule"},next:{title:"gsettings",permalink:"/docs/gpoa/frontend/appliers/gsettings"}},c={},l=[{value:"FunctionDef remove_dir_tree(path, delete_files, delete_folder, delete_sub_folders)",id:"functiondef-remove_dir_treepath-delete_files-delete_folder-delete_sub_folders",level:2},{value:"FunctionDef str2bool(boolstr)",id:"functiondef-str2boolboolstr",level:2},{value:"ClassDef Folder",id:"classdef-folder",level:2},{value:"FunctionDef <strong>init</strong>(self, folder_object, username)",id:"functiondef-initself-folder_object-username",level:3},{value:"FunctionDef _create_action(self)",id:"functiondef-_create_actionself",level:3},{value:"FunctionDef _delete_action(self)",id:"functiondef-_delete_actionself",level:3},{value:"FunctionDef act(self)",id:"functiondef-actself",level:3}];function h(e){const t={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"functiondef-remove_dir_treepath-delete_files-delete_folder-delete_sub_folders",children:"FunctionDef remove_dir_tree(path, delete_files, delete_folder, delete_sub_folders)"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"remove_dir_tree"}),": This function is used to recursively remove a directory tree and its contents, including files and sub-folders, based on the provided parameters."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Parameters"}),":\n\xb7 ",(0,i.jsx)(t.strong,{children:"path"}),": A ",(0,i.jsx)(t.code,{children:"Path"})," object representing the root directory of the directory tree to be removed.\n\xb7 ",(0,i.jsx)(t.strong,{children:"delete_files"})," (optional, defaults to ",(0,i.jsx)(t.code,{children:"False"}),"): A boolean value indicating whether to delete files in the directory tree.\n\xb7 ",(0,i.jsx)(t.strong,{children:"delete_folder"})," (optional, defaults to ",(0,i.jsx)(t.code,{children:"False"}),"): A boolean value indicating whether to delete the root directory if it becomes empty.\n\xb7 ",(0,i.jsx)(t.strong,{children:"delete_sub_folders"})," (optional, defaults to ",(0,i.jsx)(t.code,{children:"False"}),"): A boolean value indicating whether to delete sub-folders in the directory tree."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe function initializes an empty list ",(0,i.jsx)(t.code,{children:"content"})," to store directory entries. It then iterates through the entries in the ",(0,i.jsx)(t.code,{children:"path"})," directory, appending each entry to the ",(0,i.jsx)(t.code,{children:"content"})," list. If ",(0,i.jsx)(t.code,{children:"delete_files"})," is set to ",(0,i.jsx)(t.code,{children:"True"}),", the function deletes the entry if it is a file. If ",(0,i.jsx)(t.code,{children:"delete_sub_folders"})," is set to ",(0,i.jsx)(t.code,{children:"True"}),", the function recursively calls itself for each sub-folder, removing its contents and appending its entries to the ",(0,i.jsx)(t.code,{children:"content"})," list."]}),"\n",(0,i.jsxs)(t.p,{children:["After processing all entries, the function checks if ",(0,i.jsx)(t.code,{children:"delete_folder"})," is set to ",(0,i.jsx)(t.code,{children:"True"})," and if the ",(0,i.jsx)(t.code,{children:"content"})," list is empty. If both conditions are met, it deletes the ",(0,i.jsx)(t.code,{children:"path"})," directory."]}),"\n",(0,i.jsxs)(t.p,{children:["The function returns the ",(0,i.jsx)(t.code,{children:"content"})," list containing the entries of the directory tree, which can be used for further processing or logging purposes."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Relation with Callers"}),":\nThe ",(0,i.jsx)(t.code,{children:"remove_dir_tree"})," function is utilized in the ",(0,i.jsx)(t.code,{children:"_delete_action"})," method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class in ",(0,i.jsx)(t.code,{children:"folder.py"}),". When a folder object's ",(0,i.jsx)(t.code,{children:"_delete_action"})," method is called, it passes the folder's path and relevant flags to the ",(0,i.jsx)(t.code,{children:"remove_dir_tree"})," function to delete the folder and its contents."]}),"\n",(0,i.jsxs)(t.p,{children:["Additionally, the ",(0,i.jsx)(t.code,{children:"cleaning_cache"})," method in both ",(0,i.jsx)(t.code,{children:"scripts_applier.py"})," and ",(0,i.jsx)(t.code,{children:"scripts_applier_user.py"})," uses the ",(0,i.jsx)(t.code,{children:"remove_dir_tree"})," function to delete the cache directory and its contents when cleaning the cache."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":\n\xb7 Be cautious when using this function, as it permanently deletes files and directories.\n\xb7 Ensure that the ",(0,i.jsx)(t.code,{children:"path"})," parameter points to the correct directory and that the flags are set appropriately."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Output Example"}),":\nAssuming the ",(0,i.jsx)(t.code,{children:"path"})," parameter is set to a directory containing a file named ",(0,i.jsx)(t.code,{children:"test.txt"})," and a sub-folder named ",(0,i.jsx)(t.code,{children:"sub_folder"})," with another file named ",(0,i.jsx)(t.code,{children:"file.txt"}),", the output of the function would be a list containing the ",(0,i.jsx)(t.code,{children:"Path"})," objects for ",(0,i.jsx)(t.code,{children:"test.txt"})," and ",(0,i.jsx)(t.code,{children:"sub_folder"}),". After the function is executed with ",(0,i.jsx)(t.code,{children:"delete_files"})," and ",(0,i.jsx)(t.code,{children:"delete_sub_folders"})," set to ",(0,i.jsx)(t.code,{children:"True"}),", the directory will be empty, and the function will return an empty list."]}),"\n",(0,i.jsx)(t.h2,{id:"functiondef-str2boolboolstr",children:"FunctionDef str2bool(boolstr)"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"str2bool"})}),"\n",(0,i.jsxs)(t.p,{children:["The function of ",(0,i.jsx)(t.code,{children:"str2bool"})," is to convert a string input into a boolean value."]}),"\n",(0,i.jsx)(t.h2,{id:"classdef-folder",children:"ClassDef Folder"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Folder"}),": The ",(0,i.jsx)(t.code,{children:"Folder"})," class is responsible for creating, updating, or deleting a folder based on the provided ",(0,i.jsx)(t.code,{children:"directory_obj"})," and user name (optional)."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"attributes"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"folder_path"}),": A ",(0,i.jsx)(t.code,{children:"Path"})," object representing the folder path."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"action"}),": An enumerated value of the action to be performed on the folder (CREATE, UPDATE, DELETE, or REPLACE)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_files"}),": A boolean value indicating whether to delete files in the folder."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_folder"}),": A boolean value indicating whether to delete the folder itself."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_sub_folders"}),": A boolean value indicating whether to delete sub-folders."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"hidden_folder"}),": A boolean value indicating whether the folder should be hidden."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe ",(0,i.jsx)(t.code,{children:"__init__"})," method initializes the ",(0,i.jsx)(t.code,{children:"Folder"})," class with the given ",(0,i.jsx)(t.code,{children:"folder_object"})," and an optional ",(0,i.jsx)(t.code,{children:"username"}),". It determines the folder path, converting it to a Unix-style path and replacing any home directory references with the actual home directory path. The ",(0,i.jsx)(t.code,{children:"action"}),", ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", ",(0,i.jsx)(t.code,{children:"delete_sub_folders"}),", and ",(0,i.jsx)(t.code,{children:"hidden_folder"})," attributes are also initialized based on the provided ",(0,i.jsx)(t.code,{children:"folder_object"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method creates the folder specified by ",(0,i.jsx)(t.code,{children:"folder_path"})," and its parent directories if they don't already exist."]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"_delete_action"})," method removes the folder and its contents based on the ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", and ",(0,i.jsx)(t.code,{children:"delete_sub_folders"})," attributes."]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," method determines the appropriate action to perform based on the ",(0,i.jsx)(t.code,{children:"action"})," attribute and calls the corresponding method (",(0,i.jsx)(t.code,{children:"_create_action"})," or ",(0,i.jsx)(t.code,{children:"_delete_action"}),"). If the ",(0,i.jsx)(t.code,{children:"hidden_folder"})," attribute is set to ",(0,i.jsx)(t.code,{children:"True"}),", it also prepends a dot to the folder name to hide it."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class assumes that the ",(0,i.jsx)(t.code,{children:"directory_obj"})," provided in the constructor has the necessary attributes (",(0,i.jsx)(t.code,{children:"path"}),", ",(0,i.jsx)(t.code,{children:"action"}),", ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", ",(0,i.jsx)(t.code,{children:"delete_sub_folders"}),", and ",(0,i.jsx)(t.code,{children:"hidden_folder"}),")."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class is used by the ",(0,i.jsx)(t.code,{children:"apply"})," method in the ",(0,i.jsx)(t.code,{children:"folder_applier"})," object and the ",(0,i.jsx)(t.code,{children:"run"})," method in the ",(0,i.jsx)(t.code,{children:"folder_applier_user"})," object to process a list of ",(0,i.jsx)(t.code,{children:"directory_obj"})," instances."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class handles Windows-style paths with backslashes by converting them to Unix-style paths with forward slashes."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class ensures that the folder path is correctly normalized and does not contain duplicate slashes or relative paths."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class does not log any messages or events; it only performs the specified folder actions."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class does not handle any exceptions or errors that might occur during path expansion or file/folder manipulation; it is the responsibility of the caller to handle these exceptions."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class does not validate the input parameters; it is the responsibility of the caller to ensure that the provided parameters are valid."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Folder"})," class does not provide any feedback or return values after performing the specified folder actions; it is the responsibility of the caller to check the folder's existence or state after the ",(0,i.jsx)(t.code,{children:"act"})," method is called."]}),"\n"]}),"\n",(0,i.jsxs)(t.h3,{id:"functiondef-initself-folder_object-username",children:["FunctionDef ",(0,i.jsx)(t.strong,{children:"init"}),"(self, folder_object, username)"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.strong,{children:"init"})}),": The function of ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.strong,{children:"init"})})," is to initialize the Folder class with a folder object and a username (optional)."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"parameters"}),":\n\xb7 ",(0,i.jsx)(t.code,{children:"folder_object"}),": A folder object containing information about the folder to be processed.\n\xb7 ",(0,i.jsx)(t.code,{children:"username"})," (optional): A username to be used for determining the path of the folder. Defaults to None."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe ",(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.strong,{children:"init"})})," function initializes the Folder class by processing the input ",(0,i.jsx)(t.code,{children:"folder_object"})," and ",(0,i.jsx)(t.code,{children:"username"})," parameters. It first expands any Windows environment variables in the ",(0,i.jsx)(t.code,{children:"folder_object.path"})," attribute using the ",(0,i.jsx)(t.code,{children:"expand_windows_var"})," function from the ",(0,i.jsx)(t.code,{children:"gpoa/util/windows.py"})," module. The expanded path is then converted to a Unix-style path by replacing backslashes (",(0,i.jsx)(t.code,{children:"\\"}),") with forward slashes (",(0,i.jsx)(t.code,{children:"/"}),") and removing any double forward slashes (",(0,i.jsx)(t.code,{children:"//"}),")."]}),"\n",(0,i.jsxs)(t.p,{children:["If a ",(0,i.jsx)(t.code,{children:"username"})," is provided, the function determines the home directory for that user using the ",(0,i.jsx)(t.code,{children:"get_homedir"})," function from the ",(0,i.jsx)(t.code,{children:"gpoa/util/util.py"})," module. The function then replaces any occurrence of the user's home directory in the expanded path with an empty string and joins the resulting path with the user's home directory using the ",(0,i.jsx)(t.code,{children:"Path"})," class from the ",(0,i.jsx)(t.code,{children:"pathlib"})," module. This ensures that the final path is relative to the user's home directory."]}),"\n",(0,i.jsxs)(t.p,{children:["If no ",(0,i.jsx)(t.code,{children:"username"})," is provided, the function simply converts the expanded path to a ",(0,i.jsx)(t.code,{children:"Path"})," object using the ",(0,i.jsx)(t.code,{children:"Path"})," class from the ",(0,i.jsx)(t.code,{children:"pathlib"})," module."]}),"\n",(0,i.jsxs)(t.p,{children:["The function then sets the ",(0,i.jsx)(t.code,{children:"action"}),", ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", ",(0,i.jsx)(t.code,{children:"delete_sub_folders"}),", and ",(0,i.jsx)(t.code,{children:"hidden_folder"})," attributes of the class instance based on the corresponding attributes of the ",(0,i.jsx)(t.code,{children:"folder_object"}),". The ",(0,i.jsx)(t.code,{children:"action"})," attribute is converted from a single-character string to the corresponding enumeration value of the ",(0,i.jsx)(t.code,{children:"FileAction"})," class using the ",(0,i.jsx)(t.code,{children:"action_letter2enum"})," function from the ",(0,i.jsx)(t.code,{children:"gpoa/gpt/folders.py"})," module. The ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", ",(0,i.jsx)(t.code,{children:"delete_sub_folders"}),", and ",(0,i.jsx)(t.code,{children:"hidden_folder"})," attributes are converted from strings to boolean values using the ",(0,i.jsx)(t.code,{children:"str2bool"})," function from the ",(0,i.jsx)(t.code,{children:"gpoa/frontend/appliers/folder.py"})," module."]}),"\n",(0,i.jsxs)(t.p,{children:["This function is called in the ",(0,i.jsx)(t.code,{children:"__init__"})," methods of the ",(0,i.jsx)(t.code,{children:"Files_cp"}),", ",(0,i.jsx)(t.code,{children:"Folder"}),", and ",(0,i.jsx)(t.code,{children:"Ini_file"})," classes in the ",(0,i.jsx)(t.code,{children:"gpoa/frontend/appliers"})," and ",(0,i.jsx)(t.code,{children:"gpoa/frontend/appliers/ini_file.py"})," modules to initialize instances of these classes based on input folder objects. It is also called in the ",(0,i.jsx)(t.code,{children:"read_folders"})," function in the ",(0,i.jsx)(t.code,{children:"gpoa/gpt/folders.py"})," module to initialize instances of the ",(0,i.jsx)(t.code,{children:"Folder"})," class based on input folder objects."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":\nIt is important to ensure that the ",(0,i.jsx)(t.code,{children:"folder_object"})," parameter contains valid information about the folder to be processed. If an unexpected value is passed to the ",(0,i.jsx)(t.code,{children:"username"})," parameter, the function may return an incorrect path. It is also important to ensure that the ",(0,i.jsx)(t.code,{children:"action"})," attribute of the ",(0,i.jsx)(t.code,{children:"folder_object"})," parameter is one of the four accepted values ('C', 'R', 'U', or 'D'). If an unexpected character is passed to the ",(0,i.jsx)(t.code,{children:"action_letter2enum"})," function, the function will return the default enumeration value ",(0,i.jsx)(t.code,{children:"FileAction.CREATE"}),"."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"functiondef-_create_actionself",children:"FunctionDef _create_action(self)"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"_create_action"}),": The function of ",(0,i.jsx)(t.code,{children:"_create_action"})," is to create a directory at the specified path if it does not already exist."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"parameters"}),": This function does not take any parameters."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe function ",(0,i.jsx)(t.code,{children:"_create_action"})," is a method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class, which is defined in the ",(0,i.jsx)(t.code,{children:"folder.py"})," module. It creates a directory at the path specified by the ",(0,i.jsx)(t.code,{children:"folder_path"})," attribute of the ",(0,i.jsx)(t.code,{children:"Folder"})," object. The ",(0,i.jsx)(t.code,{children:"parents=True"})," argument ensures that any necessary parent directories are also created, and ",(0,i.jsx)(t.code,{children:"exist_ok=True"})," means that no error will be raised if the directory already exists."]}),"\n",(0,i.jsxs)(t.p,{children:["This function is called in the ",(0,i.jsx)(t.code,{children:"act"})," method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class, which determines what action to take based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute of the ",(0,i.jsx)(t.code,{children:"Folder"})," object. If the ",(0,i.jsx)(t.code,{children:"action"})," is ",(0,i.jsx)(t.code,{children:"FileAction.CREATE"})," or ",(0,i.jsx)(t.code,{children:"FileAction.UPDATE"}),", the ",(0,i.jsx)(t.code,{children:"_create_action"})," method is called to create the directory at the specified path."]}),"\n",(0,i.jsxs)(t.p,{children:["It is important to note that the ",(0,i.jsx)(t.code,{children:"_create_action"})," method does not check if the directory was actually created or updated. If the directory already existed, the method will not raise an error, but it will also not return any indication that the directory was not created."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"This function does not check if the path is valid or if the user has permission to create a directory at that path."}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is only intended to be called by methods of the ",(0,i.jsx)(t.code,{children:"Folder"})," class, and should not be called directly."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method does not return any value."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is an idempotent method, meaning that it can be called multiple times with the same arguments and produce the same result."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is not a public method, it is a private method, it starts with an underscore ",(0,i.jsx)(t.code,{children:"_"})," to indicate that it is an implementation detail of the class and not intended to be used directly by clients of the class."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a thread-safe method, it can be called simultaneously by multiple threads without the need for external synchronization."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a pure method, it does not modify the state of the object, it only uses the state of the object to perform the action."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a helper method, it is used to help other methods of the class to perform their actions."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a simple method, it only performs one action, which is creating a directory."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a robust method, it uses the ",(0,i.jsx)(t.code,{children:"exist_ok=True"})," argument of the ",(0,i.jsx)(t.code,{children:"mkdir"})," method to avoid raising an exception if the directory already exists."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a fast method, it only performs one system call to create the directory."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"_create_action"})," method is a flexible method, it can create multiple levels of directories if necessary, thanks to the ",(0,i.jsx)(t.code,{children:"parents=True"})," argument of the ",(0,i.jsx)(t.code,{children:"mkdir"})," method."]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"functiondef-_delete_actionself",children:"FunctionDef _delete_action(self)"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:(0,i.jsx)(t.code,{children:"_delete_action"})}),": The ",(0,i.jsx)(t.code,{children:"_delete_action"})," method is responsible for deleting a folder and its contents based on the current action and flags set in the ",(0,i.jsx)(t.code,{children:"Folder"})," object."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Parameters"}),": This method does not take any explicit parameters. However, it uses the following instance variables of the ",(0,i.jsx)(t.code,{children:"Folder"})," class:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"folder_path"}),": A ",(0,i.jsx)(t.code,{children:"Path"})," object representing the path to the folder."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"action"}),": An instance of the ",(0,i.jsx)(t.code,{children:"FileAction"})," enumeration class, representing the action to be performed on the folder."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_files"}),": A boolean value indicating whether to delete files in the folder."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_folder"}),": A boolean value indicating whether to delete the root folder if it becomes empty."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"delete_sub_folders"}),": A boolean value indicating whether to delete sub-folders in the folder."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe method first checks if the ",(0,i.jsx)(t.code,{children:"folder_path"})," exists. If it does, the method performs different actions based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["If the ",(0,i.jsx)(t.code,{children:"action"})," is ",(0,i.jsx)(t.code,{children:"FileAction.REPLACE"}),", the ",(0,i.jsx)(t.code,{children:"delete_folder"})," flag is set to ",(0,i.jsx)(t.code,{children:"True"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Then, the ",(0,i.jsx)(t.code,{children:"remove_dir_tree"})," function is called with the ",(0,i.jsx)(t.code,{children:"folder_path"}),", ",(0,i.jsx)(t.code,{children:"delete_files"}),", ",(0,i.jsx)(t.code,{children:"delete_folder"}),", and ",(0,i.jsx)(t.code,{children:"delete_sub_folders"})," flags as parameters. This function recursively removes the directory tree and its contents, including files and sub-folders."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Relation with Callers"}),":\nThe ",(0,i.jsx)(t.code,{children:"_delete_action"})," method is called from the ",(0,i.jsx)(t.code,{children:"act"})," method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class in ",(0,i.jsx)(t.code,{children:"folder.py"}),". The ",(0,i.jsx)(t.code,{children:"act"})," method checks the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute and calls the appropriate method, including ",(0,i.jsx)(t.code,{children:"_delete_action"}),", to perform the desired action on the folder."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Be cautious when using this method, as it permanently deletes files and directories."}),"\n",(0,i.jsxs)(t.li,{children:["Ensure that the ",(0,i.jsx)(t.code,{children:"folder_path"})," parameter points to the correct directory and that the flags are set appropriately."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"remove_dir_tree"})," function used in this method is a utility function that can be used to delete directory trees and their contents. It is defined in the same module as the ",(0,i.jsx)(t.code,{children:"Folder"})," class and is used in other parts of the project as well."]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h3,{id:"functiondef-actself",children:"FunctionDef act(self)"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"act"}),": The function of act is to perform the appropriate action on a folder based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute of the ",(0,i.jsx)(t.code,{children:"Folder"})," object."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"parameters"}),": This function does not take any parameters."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Code Description"}),":\nThe ",(0,i.jsx)(t.code,{children:"act"})," function is a method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class, which is defined in the ",(0,i.jsx)(t.code,{children:"folder.py"})," module. It determines what action to take based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute of the ",(0,i.jsx)(t.code,{children:"Folder"})," object. The possible actions are ",(0,i.jsx)(t.code,{children:"FileAction.CREATE"}),", ",(0,i.jsx)(t.code,{children:"FileAction.UPDATE"}),", ",(0,i.jsx)(t.code,{children:"FileAction.DELETE"}),", and ",(0,i.jsx)(t.code,{children:"FileAction.REPLACE"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"The function first checks if the folder is a hidden folder and if its name does not start with a dot. If it is, the function prepends a dot to the folder name to make it hidden."}),"\n",(0,i.jsxs)(t.p,{children:["Then, the function checks the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute and calls the appropriate method to perform the desired action on the folder. If the ",(0,i.jsx)(t.code,{children:"action"})," is ",(0,i.jsx)(t.code,{children:"FileAction.CREATE"})," or ",(0,i.jsx)(t.code,{children:"FileAction.UPDATE"}),", the ",(0,i.jsx)(t.code,{children:"_create_action"})," method is called to create the folder at the specified path. If the ",(0,i.jsx)(t.code,{children:"action"})," is ",(0,i.jsx)(t.code,{children:"FileAction.DELETE"}),", the ",(0,i.jsx)(t.code,{children:"_delete_action"})," method is called to delete the folder and its contents. If the ",(0,i.jsx)(t.code,{children:"action"})," is ",(0,i.jsx)(t.code,{children:"FileAction.REPLACE"}),", the ",(0,i.jsx)(t.code,{children:"_delete_action"})," method is called with the ",(0,i.jsx)(t.code,{children:"delete_folder"})," flag set to ",(0,i.jsx)(t.code,{children:"True"})," to delete the folder and its contents, and then the ",(0,i.jsx)(t.code,{children:"_create_action"})," method is called to create a new folder at the specified path."]}),"\n",(0,i.jsxs)(t.p,{children:["It is important to note that the ",(0,i.jsx)(t.code,{children:"act"})," function does not check if the folder was actually created, updated, or deleted. If the folder already existed or did not exist, the function will not raise an error, but it will also not return any indication that the folder was not created, updated, or deleted."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Relation with Callers"}),":\nThe ",(0,i.jsx)(t.code,{children:"act"})," function is called from the ",(0,i.jsx)(t.code,{children:"apply"})," method of the ",(0,i.jsx)(t.code,{children:"folder_applier"})," class in ",(0,i.jsx)(t.code,{children:"folder_applier.py"})," and the ",(0,i.jsx)(t.code,{children:"run"})," method of the ",(0,i.jsx)(t.code,{children:"folder_applier_user"})," class in ",(0,i.jsx)(t.code,{children:"folder_applier_user.py"}),". These methods iterate over a list of ",(0,i.jsx)(t.code,{children:"directory_obj"})," objects and call the ",(0,i.jsx)(t.code,{children:"act"})," method of the ",(0,i.jsx)(t.code,{children:"Folder"})," object created from each ",(0,i.jsx)(t.code,{children:"directory_obj"})," to perform the desired action on the folder."]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Be cautious when using this function, as it can create, update, delete, or replace folders and their contents based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute."]}),"\n",(0,i.jsxs)(t.li,{children:["Ensure that the ",(0,i.jsx)(t.code,{children:"action"})," attribute is set appropriately before calling this function."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function does not check if the path is valid or if the user has permission to perform actions on the folder."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is only intended to be called by methods of the ",(0,i.jsx)(t.code,{children:"folder_applier"})," and ",(0,i.jsx)(t.code,{children:"folder_applier_user"})," classes, and should not be called directly."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function does not return any value."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is an idempotent function, meaning that it can be called multiple times with the same arguments and produce the same result."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is not a public function, it is a method of the ",(0,i.jsx)(t.code,{children:"Folder"})," class, it is intended to be used as a part of the object-oriented programming paradigm."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a thread-safe function, it can be called simultaneously by multiple threads without the need for external synchronization."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a pure function, it does not modify the state of the object, it only uses the state of the object to perform the action."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a helper function, it is used to help other methods of the class to perform their actions."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a simple function, it only performs one action, which is determining what action to take based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a robust function, it uses the ",(0,i.jsx)(t.code,{children:"exist_ok=True"})," argument of the ",(0,i.jsx)(t.code,{children:"mkdir"})," method to avoid raising an exception if the folder already exists."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a fast function, it only performs a few system calls to determine what action to take and perform the action."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"act"})," function is a flexible function, it can perform different actions based on the value of the ",(0,i.jsx)(t.code,{children:"action"})," attribute."]}),"\n"]}),"\n",(0,i.jsx)(t.hr,{})]})}function a(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const o={},d=i.createContext(o);function s(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);