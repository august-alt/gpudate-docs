<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/gpt/printers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">printers | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gpupdate-docs.github.io/docs/gpoa/gpt/printers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="printers | GPUpdate Docs"><meta data-rh="true" name="description" content="FunctionDef readprinters(printersfile)"><meta data-rh="true" property="og:description" content="FunctionDef readprinters(printersfile)"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gpupdate-docs.github.io/docs/gpoa/gpt/printers"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/gpt/printers" hreflang="en"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/gpt/printers" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d27c289a.css">
<script src="/assets/js/runtime~main.e7149247.js" defer="defer"></script>
<script src="/assets/js/main.19b81b89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/gpt/">gpt</a><button aria-label="Collapse sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/drives">drives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/envvars">envvars</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/files">files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/folders">folders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/inifiles">inifiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/networkshares">networkshares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/polfile">polfile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/gpoa/gpt/printers">printers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/scriptsini">scriptsini</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/services">services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/shortcuts">shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/gpt/tasks">tasks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/storage/cache">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/util/">util</a><button aria-label="Expand sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/gpoa/gpt/"><span itemprop="name">gpt</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">printers</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>printers</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-read_printersprinters_file">FunctionDef read_printers(printers_file)<a href="#functiondef-read_printersprinters_file" class="hash-link" aria-label="Direct link to FunctionDef read_printers(printers_file)" title="Direct link to FunctionDef read_printers(printers_file)">​</a></h2>
<p><strong>read_printers</strong>: The function of <code>read_printers</code> is to read printer configurations from a Printer.xml file and return a list of <code>printer</code> objects.</p>
<p><strong>parameters</strong>:</p>
<ul>
<li><code>printers_file</code>: A string representing the path to the Printer.xml file to be parsed.</li>
</ul>
<p><strong>Code Description</strong>:</p>
<p>The <code>read_printers</code> function is a top-level function in the <code>printers.py</code> module that reads printer configurations from a Printer.xml file and returns a list of <code>printer</code> objects. It takes one parameter, <code>printers_file</code>, which is the path to the Printer.xml file that needs to be parsed.</p>
<p>The function begins by creating an empty list called <code>printers</code> to store the <code>printer</code> objects that will be created from the XML file.</p>
<p>Next, the function calls the <code>get_xml_root</code> function from the <code>xml.py</code> module, passing in the <code>printers_file</code> parameter to specify which XML file to parse. This returns the root element of the XML document, which is stored in the <code>prn</code> variable.</p>
<p>The function then loops through each child element of the <code>prn</code> element using a <code>for</code> loop. Each child element represents a printer configuration in the XML file.</p>
<p>For each child element, the function creates a new <code>printer</code> object by calling the <code>printer</code> class constructor and passing in the <code>prn.tag</code>, <code>prn.get(&#x27;name&#x27;)</code>, and <code>prn.get(&#x27;status&#x27;)</code> values as arguments. These values represent the printer type, name, and status, respectively.</p>
<p>The function then checks if the current printer configuration is for a <code>PortPrinter</code>. If it is, the function calls the <code>set_ip</code> method of the <code>printer</code> object to set its IP address.</p>
<p>Next, the function calls the <code>find</code> method of the current XML element to find the <code>Properties</code> element. This element contains the remaining printer configuration properties.</p>
<p>The function then calls the <code>set_location</code>, <code>set_localname</code>, <code>set_comment</code>, and <code>set_path</code> methods of the <code>printer</code> object to set its location, local name, comment, and path, respectively.</p>
<p>Finally, the function appends the <code>printer</code> object to the <code>printers</code> list.</p>
<p>Once all the printer configurations have been processed, the function returns the <code>printers</code> list.</p>
<p>This function is used in the <code>pref_parsers</code> function of the <code>gpt.py</code> module to parse printer configurations from a Printer.xml file and create <code>printer</code> objects for each configuration.</p>
<p><strong>Note</strong>:</p>
<p>The <code>read_printers</code> function assumes that the Printer.xml file passed in as a parameter is valid and can be parsed by the <code>get_xml_root</code> function. If an invalid Printer.xml file is passed in, the function may raise an exception.</p>
<p>Additionally, the <code>read_printers</code> function assumes that the <code>printer</code> class and its methods are defined and available for use.</p>
<p><strong>Output Example</strong>:</p>
<p>Suppose we have a Printer.xml file named &quot;example.xml&quot; with the following contents:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Printers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">PortPrinter</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">HP LaserJet 1020</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">status</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">idle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Properties</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">location</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Conference Room</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">localName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">HP-LaserJet-1020</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">comment</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Fast and reliable black-and-white printer</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/dev/lp0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ipAddress</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">192.168.1.100</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">PortPrinter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">SharedPrinter</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Canon MF4320D</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">status</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">idle</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">Properties</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">location</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Marketing Department</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">localName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Canon-MF4320D</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">comment</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Color laser printer</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">smb://marketing/canon</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">SharedPrinter</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">Printers</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calling the <code>read_printers</code> function with the path to this file as its parameter would return the following list:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">gpoa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gpt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">printers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">printer </span><span class="token builtin">object</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">0x12345678</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">gpoa</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gpt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">printers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">printer </span><span class="token builtin">object</span><span class="token plain"> at </span><span class="token number" style="color:#36acaa">0x87654321</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each <code>printer</code> object in the list represents a printer configuration in the XML file and can be used to access its attributes and methods.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-merge_printersstorage-sid-printer_objects-policy_name">FunctionDef merge_printers(storage, sid, printer_objects, policy_name)<a href="#functiondef-merge_printersstorage-sid-printer_objects-policy_name" class="hash-link" aria-label="Direct link to FunctionDef merge_printers(storage, sid, printer_objects, policy_name)" title="Direct link to FunctionDef merge_printers(storage, sid, printer_objects, policy_name)">​</a></h2>
<p><strong>merge_printers</strong>: The function of merge_printers is to merge a list of printer objects into a specified storage with a given policy name.</p>
<p><strong>parameters</strong>:
· <strong>storage</strong>: The storage object where the merged printers will be added.
· <strong>sid</strong>: A unique identifier for the storage.
· <strong>printer_objects</strong>: A list of printer objects to be merged.
· <strong>policy_name</strong>: The name of the policy to be associated with the merged printers.</p>
<p><strong>Code Description</strong>:
The function iterates over each printer object in the <code>printer_objects</code> list and adds it to the <code>storage</code> using the <code>add_printer</code> method. The <code>sid</code> and <code>policy_name</code> are passed as arguments to the <code>add_printer</code> method. This operation effectively merges the list of printers into the storage with the specified policy.</p>
<p>The <code>merge_printers</code> function is primarily used in the <code>pref_mergers</code> object located in <code>gpoa/gpt/gpt.py</code>. The <code>pref_mergers</code> object is a dictionary that maps different file types to their corresponding merge functions. The <code>merge_printers</code> function is assigned to the <code>FileType.PRINTERS</code> key in this dictionary. When the <code>pref_mergers</code> function is called with a <code>FileType.PRINTERS</code> argument, it returns the <code>merge_printers</code> function, which is then used to merge the list of printer objects.</p>
<p><strong>Note</strong>:
When using the <code>merge_printers</code> function, ensure that the <code>storage</code> object and <code>sid</code> are correctly initialized and that the <code>printer_objects</code> list contains valid printer objects. Providing incorrect or incomplete parameters may result in unexpected behavior or errors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-json2printerjson_str">FunctionDef json2printer(json_str)<a href="#functiondef-json2printerjson_str" class="hash-link" aria-label="Direct link to FunctionDef json2printer(json_str)" title="Direct link to FunctionDef json2printer(json_str)">​</a></h2>
<p><strong>json2printer</strong>: The function of json2printer is to construct a printer object from a string-serialized JSON representation.</p>
<p><strong>parameters</strong>:
· json_str: A string containing the serialized JSON representation of a printer object.</p>
<p><strong>Code Description</strong>:
The json2printer function takes a single parameter, json_str, which is expected to be a string containing the serialized JSON representation of a printer object. The function begins by parsing the JSON string into a Python object using the json.loads() function.</p>
<p>Once the JSON string has been parsed, the function creates a new printer object using the printer class, passing in the &#x27;type&#x27;, &#x27;name&#x27;, and &#x27;status&#x27; fields from the parsed JSON object. The function then proceeds to set the location, localname, comment, path, and ip attributes of the printer object using the corresponding fields from the parsed JSON object.</p>
<p>Finally, the function returns the newly created printer object, which can be used for further processing or manipulation.</p>
<p>This function is called in the cups_applier.py module, where it is used to construct printer objects from JSON strings that are read from a configuration file. By using this function, the code is able to easily create printer objects from JSON data, without having to manually parse and extract the necessary fields.</p>
<p><strong>Note</strong>:
It is important to ensure that the json_str parameter passed to the function is a valid JSON string representing a printer object. If an invalid JSON string is passed, the function may raise a ValueError or return an incorrect printer object. Therefore, it is recommended to perform input validation before calling the json2printer function to ensure that the json_str parameter is a valid JSON string representing a printer object.</p>
<p><strong>Output Example</strong>:
Here&#x27;s an example of a JSON string that could be passed to the json2printer function:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;type&quot;: &quot;LocalPrinter&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;name&quot;: &quot;HP LaserJet 1020&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;status&quot;: &quot;idle&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;location&quot;: &quot;Conference Room&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;localname&quot;: &quot;HP-LaserJet-1020&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;comment&quot;: &quot;Fast and reliable black-and-white printer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;path&quot;: &quot;/dev/lp0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;ip&quot;: &quot;192.168.1.100&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After passing this JSON string to the json2printer function, a new printer object would be created with the following attributes:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prn </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> printer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;LocalPrinter&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;HP LaserJet 1020&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;idle&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_location</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Conference Room&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_localname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;HP-LaserJet-1020&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_comment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Fast and reliable black-and-white printer&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;/dev/lp0&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_ip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;192.168.1.100&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This printer object could then be used for further processing or manipulation in the code.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-printer">ClassDef printer<a href="#classdef-printer" class="hash-link" aria-label="Direct link to ClassDef printer" title="Direct link to ClassDef printer">​</a></h2>
<p><strong>printer</strong>: The <code>printer</code> class is used to represent a printer object with various attributes such as printer type, name, status, location, local name, comment, path, and IP address.</p>
<p><strong>attributes</strong>:
· <code>printer_type</code>: The type of the printer, which may be one of LocalPrinter (IPP printer), SharedPrinter (Samba printer), or PortPrinter.
· <code>name</code>: The name of the printer.
· <code>status</code>: The status of the printer.
· <code>location</code>: The geographical location where the printer is residing.
· <code>localname</code>: The local name of the printer.
· <code>comment</code>: A comment about the printer.
· <code>path</code>: The path of the printer.
· <code>ip_address</code>: The IP address of the printer.</p>
<p><strong>Code Description</strong>:
The <code>printer</code> class has an initializer method <code>__init__</code> that takes three parameters <code>ptype</code>, <code>name</code>, and <code>status</code> and assigns them to the respective attributes of the class. The class also has several methods to set and get the values of the attributes.</p>
<p>The <code>set_location</code> method sets the location of the printer, which is usually a string description of the geographical location where the printer is residing. The <code>set_localname</code> method sets the local name of the printer, <code>set_comment</code> sets the comment about the printer, <code>set_path</code> sets the path of the printer, and <code>set_ip</code> sets the IP address of the printer.</p>
<p>The <code>to_json</code> method returns a string-serialized JSON representation of the object, which can be used to store or transmit the printer object in a serialized format. The <code>cups_config</code> method returns a string-serialized CUPS configuration, which can be used to configure the CUPS printing system.</p>
<p>The <code>printer</code> class is used in the <code>read_printers</code> function to read printer configurations from a Printer.xml file and create <code>printer</code> objects for each printer configuration. The <code>json2printer</code> function also uses the <code>printer</code> class to build a <code>printer</code> object from a string-serialized JSON representation of the printer object.</p>
<p><strong>Note</strong>:
When creating a <code>printer</code> object, the <code>ptype</code> parameter must be one of the valid printer types (LocalPrinter, SharedPrinter, or PortPrinter). The <code>name</code>, <code>status</code>, <code>location</code>, <code>localname</code>, <code>comment</code>, <code>path</code>, and <code>ip_address</code> parameters are all optional and can be set to <code>None</code> if not provided.</p>
<p><strong>Output Example</strong>:
Here&#x27;s an example of a <code>printer</code> object in JSON format:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;printer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;type&quot;: &quot;LocalPrinter&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;name&quot;: &quot;HP LaserJet 1020&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;status&quot;: &quot;idle&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;location&quot;: &quot;Conference Room&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;localname&quot;: &quot;HP-LaserJet-1020&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;comment&quot;: &quot;Fast and reliable black-and-white printer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;path&quot;: &quot;/dev/lp0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;ip&quot;: &quot;192.168.1.100&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This <code>printer</code> object represents a LocalPrinter with the name &quot;HP LaserJet 1020&quot;, status &quot;idle&quot;, and IP address &quot;192.168.1.100&quot;. It also has a location, local name, comment, path, and IP address set.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-initself-ptype-name-status">FunctionDef <strong>init</strong>(self, ptype, name, status)<a href="#functiondef-initself-ptype-name-status" class="hash-link" aria-label="Direct link to functiondef-initself-ptype-name-status" title="Direct link to functiondef-initself-ptype-name-status">​</a></h3>
<p><strong><strong>init</strong></strong>: The function of <strong>init</strong> is to initialize the printer object with given parameters.</p>
<p><strong>parameters</strong>:
· ptype: The type of the printer which may be LocalPrinter (IPP printer), SharedPrinter (Samba printer), or PortPrinter.
· name: The name of the printer.
· status: The status of the printer.</p>
<p><strong>Code Description</strong>:
This function initializes the printer object by setting the printer type, name, and status. Additionally, it sets the initial values of other attributes such as location, localname, comment, path, and ip_address to None.</p>
<p>The printer type is set using the given ptype parameter, which can be one of LocalPrinter, SharedPrinter, or PortPrinter.</p>
<p>The name and status of the printer are set using the given name and status parameters, respectively.</p>
<p>The other attributes such as location, localname, comment, path, and ip_address are not required during initialization and are set to None.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The ptype parameter is case-sensitive and should be one of the given values (LocalPrinter, SharedPrinter, or PortPrinter).</li>
<li>The name and status parameters should be strings.</li>
<li>The other attributes (location, localname, comment, path, and ip_address) are optional and can be set later using the corresponding setter methods.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_locationself-location">FunctionDef set_location(self, location)<a href="#functiondef-set_locationself-location" class="hash-link" aria-label="Direct link to FunctionDef set_location(self, location)" title="Direct link to FunctionDef set_location(self, location)">​</a></h3>
<p><strong>set_location</strong>): The function of set_location is to set the geographical location of a printer object.</p>
<p><strong>parameters</strong>):
· location: A string description of the geographical location where the printer is residing.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_localnameself-localname">FunctionDef set_localname(self, localname)<a href="#functiondef-set_localnameself-localname" class="hash-link" aria-label="Direct link to FunctionDef set_localname(self, localname)" title="Direct link to FunctionDef set_localname(self, localname)">​</a></h3>
<p><strong>set_localname</strong>): The function of <code>set_localname</code> is to set the local name of a printer object.</p>
<p><strong>parameters</strong>):</p>
<p>· <code>self</code>: The instance of the printer class.</p>
<p>· <code>localname</code>: The local name to be assigned to the printer object.</p>
<p><strong>Code Description</strong>:</p>
<p>The <code>set_localname</code> function is a method of the printer class that sets the local name of a printer object. It takes one argument, <code>localname</code>, which is the local name to be assigned to the printer object.</p>
<p>The function first checks if the <code>localname</code> argument is provided. If it is not, the function raises a <code>TypeError</code> with the message &quot;localname must be provided&quot;.</p>
<p>If the <code>localname</code> argument is provided, the function sets the <code>localname</code> attribute of the <code>self</code> object to the value of <code>localname</code>.</p>
<p>This function is used to set the local name of a printer object, which is a unique identifier for the printer within a specific location. The local name is used to differentiate between printers with the same name in different locations.</p>
<p><strong>Note</strong>:</p>
<p>The <code>set_localname</code> function is a method of the printer class, and it should only be called on an instance of the printer class.</p>
<p>This function is called in the <code>read_printers</code> and <code>json2printer</code> functions to set the local name of a printer object based on the data read from an XML file or a JSON string.</p>
<p>It is important to ensure that the <code>localname</code> argument is a string, as it is used to set the <code>localname</code> attribute of the <code>self</code> object, which is also a string.</p>
<p>Here&#x27;s an example of how to use the <code>set_localname</code> function:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">printer_obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> printer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;status&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printer_obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_localname</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;local_name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, a new printer object is created with the type, name, and status provided as arguments. Then, the <code>set_localname</code> function is called on the <code>printer_obj</code> instance to set its local name to <code>&#x27;local_name&#x27;</code>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_commentself-comment">FunctionDef set_comment(self, comment)<a href="#functiondef-set_commentself-comment" class="hash-link" aria-label="Direct link to FunctionDef set_comment(self, comment)" title="Direct link to FunctionDef set_comment(self, comment)">​</a></h3>
<p><strong>set_comment</strong>): The function of set_comment is to set the comment attribute of the printer object.</p>
<p><strong>parameters</strong>): This function accepts one parameter:</p>
<ul>
<li><code>comment</code>: A string that represents the comment for the printer object.</li>
</ul>
<p><strong>Code Description</strong>): The function sets the comment attribute of the object it is called on to the value of the <code>comment</code> parameter. It does this by simply assigning the value of <code>comment</code> to the <code>self.comment</code> attribute. This function is used to give a specific printer object a comment or description that can be used to identify or provide additional information about that printer.</p>
<p><strong>Relationship with its callers in the project</strong>): This function is used in two other objects within the project: <code>read_printers</code> and <code>json2printer</code>. In <code>read_printers</code>, the function is called to set the comment attribute of a printer object that is being created from an XML file. In <code>json2printer</code>, the function is called to set the comment attribute of a printer object that is being created from a JSON string. By using this function in both of these objects, the code is able to maintain consistency in the way that printer objects are created and configured, making it easier to manage and work with these objects throughout the project.</p>
<p><strong>Note</strong>): It is important to note that the <code>set_comment</code> function is a method of the <code>printer</code> class, and as such, it can only be called on an instance of that class. Additionally, the <code>comment</code> parameter must be a string, as the <code>self.comment</code> attribute is also a string. If an attempt is made to call this function with a parameter that is not a string, or on an object that is not an instance of the <code>printer</code> class, a <code>TypeError</code> will be raised.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_pathself-path">FunctionDef set_path(self, path)<a href="#functiondef-set_pathself-path" class="hash-link" aria-label="Direct link to FunctionDef set_path(self, path)" title="Direct link to FunctionDef set_path(self, path)">​</a></h3>
<p><strong>set_path</strong>: The function of set_path is to set the path attribute for the printer object.</p>
<p><strong>parameters</strong>:
· path: The path to be set for the printer object.</p>
<p><strong>Code Description</strong>:
The set_path function is a simple method that sets the path attribute for the printer object. It takes one parameter, path, which is the value to be assigned to the path attribute.</p>
<p>The implementation of the function is as follows:</p>
<p>def set_path(self, path):
self.path = path</p>
<p>In the first line, self is used to refer to the instance of the class for which the method is called. The path parameter is then assigned to the path attribute of the instance using the dot notation.</p>
<p>The set_path function is called in two other objects, read_printers and json2printer, in the project. In both cases, the function is used to set the path attribute of a printer object based on the input provided to the respective objects.</p>
<p>In the read_printers object, the set_path function is called in the following way:</p>
<p>prn_obj.set_path(props.get(&#x27;path&#x27;))</p>
<p>Here, props is an XML element that contains the path attribute. The get() method is used to retrieve the value of the path attribute, which is then passed as a parameter to the set_path function.</p>
<p>Similarly, in the json2printer object, the set_path function is called in the following way:</p>
<p>prn.set_path(json_obj[&#x27;path&#x27;])</p>
<p>Here, json_obj is a JSON object that contains the path attribute. The path attribute is retrieved from the JSON object using the dictionary notation, which is then passed as a parameter to the set_path function.</p>
<p><strong>Note</strong>:
The set_path function is a simple method that sets the path attribute for the printer object. It is important to ensure that the path parameter passed to the function is a valid value. If an invalid value is passed, it may result in unexpected behavior or errors in the program. Therefore, it is recommended to perform input validation before calling the set_path function to ensure that the path parameter is a valid value.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_ipself-ipaddr">FunctionDef set_ip(self, ipaddr)<a href="#functiondef-set_ipself-ipaddr" class="hash-link" aria-label="Direct link to FunctionDef set_ip(self, ipaddr)" title="Direct link to FunctionDef set_ip(self, ipaddr)">​</a></h3>
<p><strong>set_ip</strong>): The function of <code>set_ip</code> is to set the IP address of a printer object.</p>
<p><strong>parameters</strong>): This function accepts one parameter:</p>
<p>· <code>ipaddr</code>: The IP address to be assigned to the printer object.</p>
<p><strong>Code Description</strong>): The <code>set_ip</code> function is a method of the <code>printer</code> class, which is used to configure the IP address of a printer. It takes one argument, <code>ipaddr</code>, which is the IP address to be assigned to the printer object. Inside the function, the <code>ip_address</code> attribute of the current object (<code>self</code>) is updated with the value of the <code>ipaddr</code> parameter.</p>
<p>The <code>set_ip</code> function is used in the <code>read_printers</code> and <code>json2printer</code> functions to set the IP address of the printer object being created. In <code>read_printers</code>, the function is called with the <code>&#x27;ipAddress&#x27;</code> attribute of the XML element as the argument. In <code>json2printer</code>, the function is called with the <code>&#x27;ip&#x27;</code> key of the JSON object as the argument.</p>
<p><strong>Note</strong>): It is important to ensure that the <code>ipaddr</code> parameter is a valid IP address string in the correct format (e.g. &quot;192.168.1.1&quot;) to avoid any issues when configuring the printer object. Additionally, the <code>set_ip</code> function should only be called on a <code>printer</code> object, as it is a method of that class.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-to_jsonself">FunctionDef to_json(self)<a href="#functiondef-to_jsonself" class="hash-link" aria-label="Direct link to FunctionDef to_json(self)" title="Direct link to FunctionDef to_json(self)">​</a></h3>
<p><strong>to_json</strong></p>
<p>The <code>to_json</code> function is a method that returns a string-serialized JSON representation of the object. It is used to convert the object&#x27;s attributes into a JSON format, which can be useful for data storage, transmission, or further processing.</p>
<p><strong>Parameters</strong></p>
<p>This function does not take any parameters.</p>
<p><strong>Code Description</strong></p>
<ol>
<li>The function initializes an empty dictionary called <code>printer</code>.</li>
<li>It then assigns values to the keys &#x27;type&#x27;, &#x27;name&#x27;, &#x27;status&#x27;, &#x27;location&#x27;, &#x27;localname&#x27;, &#x27;comment&#x27;, &#x27;path&#x27;, &#x27;ip&#x27; in the <code>printer</code> dictionary using the object&#x27;s attributes.</li>
<li>Next, it creates another dictionary called <code>config</code> and assigns the <code>printer</code> dictionary to the key &#x27;printer&#x27; in the <code>config</code> dictionary. This nested structure makes it easier to add metadata if needed.</li>
<li>Finally, it uses the <code>json.dumps()</code> function to serialize the <code>config</code> dictionary into a JSON string and returns it.</li>
</ol>
<p><strong>Note</strong></p>
<ul>
<li>The function returns a JSON string, not a dictionary. If you need to convert it back to a dictionary, use the <code>json.loads()</code> function.</li>
<li>The function does not modify the object&#x27;s attributes. It only creates a JSON representation of them.</li>
</ul>
<p><strong>Output Example</strong></p>
<p>Suppose the object&#x27;s attributes are as follows:</p>
<ul>
<li>printer_type = &quot;HP LaserJet&quot;</li>
<li>name = &quot;Printer01&quot;</li>
<li>status = &quot;idle&quot;</li>
<li>location = &quot;Floor 2&quot;</li>
<li>localname = &quot;LocalPrinter01&quot;</li>
<li>comment = &quot;For office use only&quot;</li>
<li>path = &quot;/dev/lp0&quot;</li>
<li>ip_address = &quot;192.168.1.2&quot;</li>
</ul>
<p>The output of the <code>to_json()</code> function would be:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;printer&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;HP LaserJet&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;Printer01&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;status&quot;: &quot;idle&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;location&quot;: &quot;Floor 2&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;localname&quot;: &quot;LocalPrinter01&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;comment&quot;: &quot;For office use only&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;path&quot;: &quot;/dev/lp0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;ip&quot;: &quot;192.168.1.2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-cups_configself">FunctionDef cups_config(self)<a href="#functiondef-cups_configself" class="hash-link" aria-label="Direct link to FunctionDef cups_config(self)" title="Direct link to FunctionDef cups_config(self)">​</a></h3>
<p><strong>cups_config</strong>: The function of cups_config is to return a string-serialized CUPS (Common Unix Printing System) configuration.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The cups_config function initializes an empty string variable named &#x27;config&#x27;. It then returns this empty string. This function does not perform any actual configuration retrieval or serialization.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>This function currently does not interact with the CUPS system in any way, and simply returns an empty string. It should be updated to retrieve and serialize the actual CUPS configuration.</li>
<li>Proper error handling should be implemented in case of issues with CUPS configuration retrieval.</li>
</ul>
<p><strong>Output Example</strong>:
In its current state, the cups_config function will always return an empty string: <code>&#x27;&#x27;</code></p>
<p>After updating the function to retrieve and serialize the CUPS configuration, an example output might look like this:</p>
<p><code>&#x27; cups_version: 2.3.1 server_name: localhost server_uri: ipp://localhost:631 server_state: 1 server_state_reasons: 5 num_printers: 2 num_classes: 0 num_interfaces: 1 num_devices: 1&#x27;</code></p>
<p>This example output is for demonstration purposes only, as the actual CUPS configuration data and format may vary.</p>
<hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/gpoa/gpt/polfile"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">polfile</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/gpoa/gpt/scriptsini"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">scriptsini</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functiondef-read_printersprinters_file" class="table-of-contents__link toc-highlight">FunctionDef read_printers(printers_file)</a></li><li><a href="#functiondef-merge_printersstorage-sid-printer_objects-policy_name" class="table-of-contents__link toc-highlight">FunctionDef merge_printers(storage, sid, printer_objects, policy_name)</a></li><li><a href="#functiondef-json2printerjson_str" class="table-of-contents__link toc-highlight">FunctionDef json2printer(json_str)</a></li><li><a href="#classdef-printer" class="table-of-contents__link toc-highlight">ClassDef printer</a><ul><li><a href="#functiondef-initself-ptype-name-status" class="table-of-contents__link toc-highlight">FunctionDef <strong>init</strong>(self, ptype, name, status)</a></li><li><a href="#functiondef-set_locationself-location" class="table-of-contents__link toc-highlight">FunctionDef set_location(self, location)</a></li><li><a href="#functiondef-set_localnameself-localname" class="table-of-contents__link toc-highlight">FunctionDef set_localname(self, localname)</a></li><li><a href="#functiondef-set_commentself-comment" class="table-of-contents__link toc-highlight">FunctionDef set_comment(self, comment)</a></li><li><a href="#functiondef-set_pathself-path" class="table-of-contents__link toc-highlight">FunctionDef set_path(self, path)</a></li><li><a href="#functiondef-set_ipself-ipaddr" class="table-of-contents__link toc-highlight">FunctionDef set_ip(self, ipaddr)</a></li><li><a href="#functiondef-to_jsonself" class="table-of-contents__link toc-highlight">FunctionDef to_json(self)</a></li><li><a href="#functiondef-cups_configself" class="table-of-contents__link toc-highlight">FunctionDef cups_config(self)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>