"use strict";(self.webpackChunkgpupdate_docs=self.webpackChunkgpupdate_docs||[]).push([[6],{8404:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>d,toc:()=>h});var o=n(4848),r=n(8453);const i={},s=void 0,d={id:"gpoa/util/xdg",title:"xdg",description:"FunctionDef xdggetdesktop(username, homedir)",source:"@site/docs/gpoa/util/xdg.md",sourceDirName:"gpoa/util",slug:"/gpoa/util/xdg",permalink:"/docs/gpoa/util/xdg",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"defaultSidebar",previous:{title:"windows",permalink:"/docs/gpoa/util/windows"},next:{title:"xml",permalink:"/docs/gpoa/util/xml"}},c={},h=[{value:"FunctionDef xdg_get_desktop(username, homedir)",id:"functiondef-xdg_get_desktopusername-homedir",level:2}];function a(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"functiondef-xdg_get_desktopusername-homedir",children:"FunctionDef xdg_get_desktop(username, homedir)"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"xdg_get_desktop"}),": The function of xdg_get_desktop is to return the path of the desktop directory for a given username and home directory."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"parameters"}),": The parameters of this Function are:\n\xb7 username (str): The username for which to retrieve the desktop directory. If not provided, the function will use the current user's username.\n\xb7 homedir (str): The home directory of the user. If not provided, the function will determine the home directory using the ",(0,o.jsx)(t.code,{children:"get_homedir"})," function."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Code Description"}),":\nThe function ",(0,o.jsx)(t.code,{children:"xdg_get_desktop"})," first checks if the ",(0,o.jsx)(t.code,{children:"username"})," parameter is provided. If it is, the function uses the ",(0,o.jsx)(t.code,{children:"get_homedir"})," function to get the home directory for that user. If the ",(0,o.jsx)(t.code,{children:"username"})," parameter is not provided, the function uses the current user's home directory."]}),"\n",(0,o.jsxs)(t.p,{children:["If the ",(0,o.jsx)(t.code,{children:"homedir"}),' parameter is not provided, the function will raise an exception with the error message "E18" and log the error using the ',(0,o.jsx)(t.code,{children:"log"})," function from the ",(0,o.jsx)(t.code,{children:"logging"})," module."]}),"\n",(0,o.jsxs)(t.p,{children:["The function then sets the ",(0,o.jsx)(t.code,{children:"HOME"})," environment variable to the ",(0,o.jsx)(t.code,{children:"homedir"})," parameter and uses the ",(0,o.jsx)(t.code,{children:"os.popen"})," function to execute the command ",(0,o.jsx)(t.code,{children:"'export HOME={}; xdg-user-dir DESKTOP'"}),". This command sets the ",(0,o.jsx)(t.code,{children:"HOME"})," environment variable to the ",(0,o.jsx)(t.code,{children:"homedir"})," parameter and then uses the ",(0,o.jsx)(t.code,{children:"xdg-user-dir"})," command to get the path of the desktop directory for that user."]}),"\n",(0,o.jsxs)(t.p,{children:["The function then reads the output of the command using the ",(0,o.jsx)(t.code,{children:"read"})," method of the file object returned by ",(0,o.jsx)(t.code,{children:"os.popen"})," and removes the trailing newline character using slicing."]}),"\n",(0,o.jsx)(t.p,{children:"Finally, the function returns the path of the desktop directory."}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Note"}),":\nIt is important to note that this function relies on the ",(0,o.jsx)(t.code,{children:"xdg-user-dir"})," command being available on the system and properly configured. If the command is not available or not properly configured, this function may return an incorrect or incomplete path."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Output Example"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"'/home/user/Desktop'\n"})}),"\n",(0,o.jsxs)(t.p,{children:["This is an example of the output that this function may return, given a ",(0,o.jsx)(t.code,{children:"username"})," of ",(0,o.jsx)(t.code,{children:"'user'"}),". The actual output will vary depending on the specific user and the configuration of the system."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Relation with other parts of the project"}),":\nThis function is used in the ",(0,o.jsx)(t.code,{children:"expand_windows_var"})," function in the ",(0,o.jsx)(t.code,{children:"gpoa/util/windows.py"})," module to expand the ",(0,o.jsx)(t.code,{children:"%DesktopDir%"})," variable in a given text string. It is also used in the ",(0,o.jsx)(t.code,{children:"get_xdg_dir"})," function in the ",(0,o.jsx)(t.code,{children:"gpoa/util/xdg.py"})," module to get the path of the desktop directory for a given user."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Relation with external libraries"}),":\nThis function uses the ",(0,o.jsx)(t.code,{children:"os.popen"})," function from the ",(0,o.jsx)(t.code,{children:"os"})," module to execute the ",(0,o.jsx)(t.code,{children:"xdg-user-dir"})," command and get its output. It also uses the ",(0,o.jsx)(t.code,{children:"get_homedir"})," function from the ",(0,o.jsx)(t.code,{children:"gpoa/util/util.py"})," module to get the home directory for a given user. Additionally, it uses the ",(0,o.jsx)(t.code,{children:"log"})," function from the ",(0,o.jsx)(t.code,{children:"logging"})," module to log any errors that occur."]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var o=n(6540);const r={},i=o.createContext(r);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);