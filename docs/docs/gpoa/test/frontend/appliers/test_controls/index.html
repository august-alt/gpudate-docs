<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/test/frontend/appliers/test_controls" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">test_controls | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gpupdate-docs.github.io/docs/gpoa/test/frontend/appliers/test_controls"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="test_controls | GPUpdate Docs"><meta data-rh="true" name="description" content="ClassDef ControlTestCase"><meta data-rh="true" property="og:description" content="ClassDef ControlTestCase"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gpupdate-docs.github.io/docs/gpoa/test/frontend/appliers/test_controls"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/test/frontend/appliers/test_controls" hreflang="en"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/test/frontend/appliers/test_controls" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d27c289a.css">
<script src="/assets/js/runtime~main.e7149247.js" defer="defer"></script>
<script src="/assets/js/main.19b81b89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/gpt/">gpt</a><button aria-label="Expand sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/storage/cache">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">test</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">frontend</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">appliers</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">test_controls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_packages">test_packages</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/gpt/test_drives">gpt</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/storage/test_preg_special_values">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/util/test_roles">util</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/util/">util</a><button aria-label="Expand sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">test</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">frontend</span><meta itemprop="position" content="3"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">appliers</span><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">test_controls</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>test_controls</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-controltestcase">ClassDef ControlTestCase<a href="#classdef-controltestcase" class="hash-link" aria-label="Direct link to ClassDef ControlTestCase" title="Direct link to ClassDef ControlTestCase">​</a></h2>
<p><strong>ControlTestCase</strong>: The function of ControlTestCase is to provide semi-integrational tests for the control facility.</p>
<p><strong>Attributes</strong>: This class does not have any attributes.</p>
<p><strong>Code Description</strong>:</p>
<p>The ControlTestCase class is a subclass of unittest.TestCase and contains methods that test the control framework&#x27;s functionality. The class contains three methods, each testing a different aspect of the control framework.</p>
<p>The <code>test_control_with_int</code> method tests the control framework&#x27;s invocation with an integer value. It loads data from a PReg file, where all values are stored as strings, and transforms the value to string before passing it to the control function. This test ensures that the control framework can handle integer values correctly.</p>
<p>The <code>test_control_int_out_of_range</code> method tests the control framework&#x27;s invocation with an incorrect integer value that is out of range. Similar to the previous method, it loads data from a PReg file and transforms the value to string before passing it to the control function. This test ensures that the control framework can handle incorrect integer values correctly.</p>
<p>The <code>test_control_with_str</code> method tests the control framework&#x27;s invocation with a string value. It loads data from a PReg file and passes the string value directly to the control function. This test ensures that the control framework can handle string values correctly.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>load_preg</code> function is not defined in this code snippet, and it should be defined and implemented before using this class.</li>
<li>The <code>control</code> function is not defined in this code snippet, and it should be defined and implemented before using this class.</li>
<li>The <code>set_control_status</code> method is not defined in this code snippet, and it should be defined and implemented in the <code>control</code> class before using this class.</li>
<li>The PReg files used in this class should be valid and contain the correct data to test the control framework&#x27;s functionality.</li>
<li>The <code>control_name</code> and <code>control_value</code> parameters used in this class should be valid and match the data in the PReg files.</li>
<li>The <code>test_control_int_out_of_range</code> method uses a hardcoded <code>control_name</code> and <code>control_value</code> parameters. These parameters should be loaded from a PReg file or passed as arguments to the method to ensure that the test is flexible and can handle different use cases.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-test_control_with_intself">FunctionDef test_control_with_int(self)<a href="#functiondef-test_control_with_intself" class="hash-link" aria-label="Direct link to FunctionDef test_control_with_int(self)" title="Direct link to FunctionDef test_control_with_int(self)">​</a></h3>
<p><strong>test_control_with_int</strong>: The function of test_control_with_int is to test the control framework invocation with an integer value. It is used to verify the functionality of the control class when the control value is an integer.</p>
<p><strong>parameters</strong>:</p>
<p>· self: The instance of the ControlTestCase class to which this method belongs.</p>
<p><strong>Code Description</strong>:</p>
<p>The test_control_with_int method first loads the preg data from a file named &#x27;control_int.pol&#x27; using the load_preg function. It then iterates over each entry in the preg data and extracts the control name and value. The value is converted to an integer using the int() function. A new control object is created with the control name and integer value. The set_control_status method is called on the control object to set the control status.</p>
<p>This method is used to test the functionality of the control class when the control value is an integer. It verifies that the control status is set correctly based on the integer value. The method does not return any value and does not print any output. It is used for testing purposes only.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The test_control_with_int method is a test method that is used to verify the functionality of the control class when the control value is an integer.</li>
<li>The method assumes that the load_preg function is available and returns a valid preg object.</li>
<li>The method tests the control framework invocation with an integer value and verifies that the control status is set correctly based on the integer value.</li>
<li>The method does not return any value and does not print any output. It is used for testing purposes only.</li>
</ul>
<p>Raw code:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">test_control_with_int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&#x27;&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Test procedure for control framework invocation with integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    value. The type of data loaded from PReg must be &#x27;int&#x27; but</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    we&#x27;re storing all values as strings inside the database. So,</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    for the test to be correct - we transform the value to string</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    first.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &#x27;&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    preg_file </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;test/frontend/appliers/data/control_int.pol&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    preg_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> load_preg</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">preg_file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> entry </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> preg_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">entries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        control_name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">valuename</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        control_value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        test_control </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">control_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">control_value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        test_control</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_control_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-test_control_int_out_of_rangeself">FunctionDef test_control_int_out_of_range(self)<a href="#functiondef-test_control_int_out_of_rangeself" class="hash-link" aria-label="Direct link to FunctionDef test_control_int_out_of_range(self)" title="Direct link to FunctionDef test_control_int_out_of_range(self)">​</a></h3>
<p><strong>test_control_int_out_of_range</strong>: The function of <code>test_control_int_out_of_range</code> is to test the behavior of the <code>control</code> class when an integer value that is out of range is passed as the control value.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:</p>
<p>The <code>test_control_int_out_of_range</code> function is a test case method in the <code>ControlTestCase</code> class that tests the <code>control</code> class with an integer value that is out of range. It first initializes a <code>control</code> object with a name and an integer value that is out of range. It then calls the <code>set_control_status</code> method of the <code>control</code> object to set the status of the control.</p>
<p>The function does not explicitly check for any specific behavior or output of the <code>set_control_status</code> method. Instead, it relies on the assertions and error handling mechanisms of the <code>ControlTestCase</code> class to detect any errors or exceptions that may be raised during the execution of the <code>set_control_status</code> method.</p>
<p>The <code>test_control_int_out_of_range</code> function is called by the <code>test_control_with_int</code> function in the <code>ControlTestCase</code> class, which tests the <code>control</code> class with different integer values, including an integer value that is out of range.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>test_control_int_out_of_range</code> function tests the behavior of the <code>control</code> class when an integer value that is out of range is passed as the control value.</li>
<li>The function does not explicitly check for any specific behavior or output of the <code>set_control_status</code> method.</li>
<li>The function relies on the assertions and error handling mechanisms of the <code>ControlTestCase</code> class to detect any errors or exceptions that may be raised during the execution of the <code>set_control_status</code> method.</li>
<li>The function is called by the <code>test_control_with_int</code> function in the <code>ControlTestCase</code> class, which tests the <code>control</code> class with different integer values, including an integer value that is out of range.</li>
<li>The <code>test_control_int_out_of_range</code> function does not take any parameters.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-test_control_with_strself">FunctionDef test_control_with_str(self)<a href="#functiondef-test_control_with_strself" class="hash-link" aria-label="Direct link to FunctionDef test_control_with_str(self)" title="Direct link to FunctionDef test_control_with_str(self)">​</a></h3>
<p><strong>test_control_with_str</strong>: The function of <code>test_control_with_str</code> is to test the behavior of the <code>control</code> class when setting the status of a control with a string value.</p>
<p><strong>parameters</strong>:</p>
<p>· <code>self</code>: The instance of the <code>ControlTestCase</code> class to which this method belongs.</p>
<p><strong>Code Description</strong>:</p>
<p>The <code>test_control_with_str</code> method creates a <code>control</code> object with a name and a string value. It then sets the status of the control using the <code>set_control_status</code> method of the <code>control</code> class. The method checks if the <code>set_control_status</code> method logs an error message with the error code &#x27;E59&#x27;, which indicates that the string value is not in the <code>possible_values</code> list. If the error message is not logged, the method passes the test.</p>
<p>This method is used to test the <code>set_control_status</code> method of the <code>control</code> class with a string value. It ensures that the <code>set_control_status</code> method correctly checks if the string value is in the <code>possible_values</code> list.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>control</code> class should be defined and available.</li>
<li>The <code>control</code> class should have a <code>set_control_status</code> method.</li>
<li>The <code>set_control_status</code> method should log an error message with the error code &#x27;E59&#x27; if the string value is not in the <code>possible_values</code> list.</li>
</ul>
<p>Raw code:```
def test_control_with_str(self):
&#x27;&#x27;&#x27;
Test procedure for control framework invocation with string
value. The type of data loaded from PReg must be &#x27;str&#x27;.
&#x27;&#x27;&#x27;
preg_file = &#x27;test/frontend/appliers/data/control_string.pol&#x27;</p>
<p>preg_data = load_preg(preg_file)
for entry in preg_data.entries:
control_name = entry.valuename
control_value = entry.data</p>
<p>test_control = control(control_name, str(control_value))
test_control.set_control_status()</p>
<div class="language-========== codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-========== codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The `test_control_with_str` method is part of the `ControlTestCase` class, which is used to test the behavior of the `control` class. The method creates a `control` object with a name and a string value from the `control_string.pol` file. It then sets the status of the control using the `set_control_status` method of the `control` class.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The `load_preg` function is used to load the `control_string.pol` file into a `preg` object. The `preg` object is then iterated over to get the name and value of each control. The `control` object is created with the name and string value of each control.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The `set_control_status` method of the `control` class is then called with the `control` object as the argument. This method sets the status of the control based on its value. If the value is a string, the method checks if it is in the `possible_values` list. If the value is not in the list, the method logs an error message with the error code &#x27;E59&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">The `test_control_with_str` method checks if the `set_control_status` method logs an error message with the error code &#x27;E59&#x27; when the string value is not in the `possible_values` list. If the error message is not logged, the method passes the test.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">In summary, the `test_control_with_str` method tests the behavior of the `control` class when setting the status of a control with a string value. It ensures that the `set_control_status` method correctly checks if the string value is in the `possible_values` list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">***</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/gpoa/storage/sqlite_registry_compat"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">sqlite_registry_compat</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/gpoa/test/frontend/appliers/test_packages"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">test_packages</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classdef-controltestcase" class="table-of-contents__link toc-highlight">ClassDef ControlTestCase</a><ul><li><a href="#functiondef-test_control_with_intself" class="table-of-contents__link toc-highlight">FunctionDef test_control_with_int(self)</a></li><li><a href="#functiondef-test_control_int_out_of_rangeself" class="table-of-contents__link toc-highlight">FunctionDef test_control_int_out_of_range(self)</a></li><li><a href="#functiondef-test_control_with_strself" class="table-of-contents__link toc-highlight">FunctionDef test_control_with_str(self)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>