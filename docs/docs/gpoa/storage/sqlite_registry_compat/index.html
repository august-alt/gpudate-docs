<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/storage/sqlite_registry_compat" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">sqlite_registry_compat | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gpupdate-docs.github.io/docs/gpoa/storage/sqlite_registry_compat"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="sqlite_registry_compat | GPUpdate Docs"><meta data-rh="true" name="description" content="ClassDef sqliteregistrycompat"><meta data-rh="true" property="og:description" content="ClassDef sqliteregistrycompat"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gpupdate-docs.github.io/docs/gpoa/storage/sqlite_registry_compat"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/storage/sqlite_registry_compat" hreflang="en"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/storage/sqlite_registry_compat" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d27c289a.css">
<script src="/assets/js/runtime~main.e7149247.js" defer="defer"></script>
<script src="/assets/js/main.19b81b89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/gpt/">gpt</a><button aria-label="Expand sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/storage/cache">storage</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/cache">cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/fs_file_cache">fs_file_cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/record_types">record_types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/registry">registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/sqlite_cache">sqlite_cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/storage/sqlite_registry">sqlite_registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/gpoa/storage/sqlite_registry_compat">sqlite_registry_compat</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/util/">util</a><button aria-label="Expand sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">storage</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">sqlite_registry_compat</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>sqlite_registry_compat</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-sqlite_registry_compat">ClassDef sqlite_registry_compat<a href="#classdef-sqlite_registry_compat" class="hash-link" aria-label="Direct link to ClassDef sqlite_registry_compat" title="Direct link to ClassDef sqlite_registry_compat">​</a></h2>
<p><strong>sqlite_registry_compat</strong>: The function of sqlite_registry_compat is to provide a compatibility layer for working with SQLite metadata in a more straightforward manner.</p>
<p><strong>attributes</strong>:
· db_cnt: A SQLAlchemy connectable object representing a database connection.</p>
<p><strong>Code Description</strong>:
sqlite_registry_compat is a class that simplifies the interaction with SQLite metadata by providing a more straightforward interface. It achieves this by wrapping the SQLAlchemy ORM&#x27;s metadata object and providing additional functionality.</p>
<p>The __init__ method takes a SQLAlchemy connectable object (db_cnt) and initializes the class&#x27;s metadata attribute. If the __compat__ global variable is not defined, it creates a new registry and metadata object. Otherwise, it initializes the metadata object with the provided connectable.</p>
<p>The metadata method returns the metadata object associated with the class.</p>
<p>The map_imperatively method maps a class to a table in the database. If the __compat__ global variable is defined, it uses the mapper function from SQLAlchemy to map the class to the table. Otherwise, it uses the map_imperatively method from the wrapped registry object to map the class to the table.</p>
<p>The sqlite_registry_compat class is used in the sqlite_cache and sqlite_registry classes to manage metadata and map classes to tables. By providing a compatibility layer, it allows for easier migration between different versions of the SQLAlchemy ORM.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The __compat__ global variable is used to determine whether to use the compatibility layer or not. If you are using a version of SQLAlchemy that is compatible with the registry object, you can set __compat__ to True to use the more straightforward interface provided by sqlite_registry_compat.</li>
</ul>
<p><strong>Output Example</strong>:
The output of the sqlite_registry_compat class is not a direct value but rather an object that simplifies the interaction with SQLite metadata. Here&#x27;s an example of how it can be used:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sqlalchemy </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> create_engine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sqlite_registry_compat </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sqlite_registry_compat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># create a database connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">engine </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> create_engine</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;sqlite:///example.db&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># create a sqlite_registry_compat object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sqlite_registry_compat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">engine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># get the metadata object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> registry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># map a class to a table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">Example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">pass</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">map_imperatively</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Example</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Table</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;example&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># use the mapped class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">session </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Session</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">engine</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">example </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Example</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">example</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">session</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the sqlite_registry_compat object is used to create a metadata object and map the Example class to the example table. The mapped class can then be used to interact with the database using SQLAlchemy&#x27;s ORM.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-initself-db_cnt">FunctionDef <strong>init</strong>(self, db_cnt)<a href="#functiondef-initself-db_cnt" class="hash-link" aria-label="Direct link to functiondef-initself-db_cnt" title="Direct link to functiondef-initself-db_cnt">​</a></h3>
<p><strong><strong>init</strong></strong>: The function of <strong>init</strong> is to initialize the sqlite_registry_compat object with a database connection.</p>
<p><strong>parameters</strong>:
· db_cnt: A connection object to the SQLite database.</p>
<p><strong>Code Description</strong>:
The __init__ function initializes the sqlite_registry_compat object with a database connection. It first checks if the __compat__ variable is defined. If not, it initializes the __registry and __metadata attributes of the object with new instances of the registry and MetaData classes, respectively. If __compat__ is defined, it initializes the __metadata attribute with a new instance of the MetaData class, passing the db_cnt parameter to it.</p>
<p>The __compat__ variable is likely used to determine whether to use a compatibility layer or not. If it is not defined, the code assumes that it is running in a compatibility mode and initializes the __registry and __metadata attributes accordingly. If __compat__ is defined, it means that the code is running in a non-compatibility mode, and the __metadata attribute is initialized with the db_cnt parameter.</p>
<p><strong>Note</strong>:
It is important to note that the __compat__ variable is not defined in the provided code, so it is assumed to be defined elsewhere in the codebase. Additionally, the registry and MetaData classes are also not defined in the provided code, so it is assumed that they are defined elsewhere in the codebase as well.</p>
<p>When initializing the sqlite_registry_compat object, it is important to pass a valid database connection object to the db_cnt parameter. If __compat__ is not defined, the __registry and __metadata attributes will be initialized with new instances of the registry and MetaData classes, respectively. If __compat__ is defined, the __metadata attribute will be initialized with a new instance of the MetaData class, passing the db_cnt parameter to it.</p>
<p>Overall, the __init__ function is an essential part of the sqlite_registry_compat object, as it initializes the object with the necessary attributes and sets up the connection to the SQLite database.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-metadataself">FunctionDef metadata(self)<a href="#functiondef-metadataself" class="hash-link" aria-label="Direct link to FunctionDef metadata(self)" title="Direct link to FunctionDef metadata(self)">​</a></h3>
<p><strong>metadata</strong>: The function of metadata is to return the metadata object of the SQLite registry compatibility component.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The <code>metadata</code> function is a simple method that returns the <code>__metadata</code> attribute of the <code>sqlite_registry_compat</code> object, which is initialized in the constructor of the <code>sqlite_registry_compat</code> class. The <code>__metadata</code> attribute is an instance of the <code>sqlalchemy.MetaData</code> class, which is used to manage schema metadata for SQLAlchemy ORM.</p>
<p>In the context of the <code>sqlite_registry_compat</code> class, the <code>__metadata</code> object is used to define the tables and columns of the SQLite database that stores the registry data. By returning the <code>__metadata</code> object, the <code>metadata</code> function enables other parts of the code to interact with the schema metadata and define additional tables or columns as needed.</p>
<p>For example, in the <code>gpoa/storage/sqlite_cache.py</code> module, the <code>metadata</code> function is called to retrieve the <code>__metadata</code> object of the <code>sqlite_registry_compat</code> object, which is then used to create the <code>cache_table</code> object that stores the cached data. Similarly, in the <code>gpoa/storage/sqlite_registry.py</code> module, the <code>metadata</code> function is called to retrieve the <code>__metadata</code> object, which is then used to define various tables that store registry data.</p>
<p><strong>Note</strong>: It is important to note that the <code>metadata</code> function does not modify the <code>__metadata</code> object or perform any other side effects. It simply returns the current value of the <code>__metadata</code> attribute. Therefore, it can be safely called multiple times without affecting the behavior of the <code>sqlite_registry_compat</code> object.</p>
<p><strong>Output Example</strong>: Here is an example of what the output of the <code>metadata</code> function might look like:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">sqlalchemy</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MetaData at </span><span class="token number" style="color:#36acaa">0x12345678</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This output indicates that the <code>metadata</code> function has returned an instance of the <code>sqlalchemy.schema.MetaData</code> class, which can be used to define tables and columns for the SQLite database.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-map_imperativelyself-obj-table">FunctionDef map_imperatively(self, obj, table)<a href="#functiondef-map_imperativelyself-obj-table" class="hash-link" aria-label="Direct link to FunctionDef map_imperatively(self, obj, table)" title="Direct link to FunctionDef map_imperatively(self, obj, table)">​</a></h3>
<p><strong>map_imperatively</strong>: The function of <code>map_imperatively</code> is to map an object to a table in a database using a registry-compatible method.</p>
<p><strong>parameters</strong>:
· <code>obj</code>: The object to be mapped.
· <code>table</code>: The table in the database to which the object will be mapped.</p>
<p><strong>Code Description</strong>:
The <code>map_imperatively</code> function first checks if the <code>__compat</code> attribute is available. If it is, then the <code>mapper</code> function is called with the <code>obj</code> and <code>table</code> parameters. Otherwise, the <code>map_imperatively</code> method of the <code>__registry</code> attribute is called with the same parameters.</p>
<p>The <code>__compat</code> attribute is an instance of the <code>sqlite_registry_compat</code> class, which provides a registry-compatible interface for working with SQLite databases. The <code>mapper</code> function is a method of this class that maps an object to a table in the database.</p>
<p>The <code>__registry</code> attribute is an instance of the <code>sqlite_registry</code> class, which provides a more generic interface for working with SQLite databases. The <code>map_imperatively</code> method of this class maps an object to a table in the database using a registry-compatible method.</p>
<p>By checking for the presence of the <code>__compat</code> attribute and using the appropriate method for mapping the object to the table, the <code>map_imperatively</code> function provides a flexible and extensible interface for working with SQLite databases in a registry-compatible manner.</p>
<p><strong>Note</strong>:
The <code>map_imperatively</code> function is called in the <code>__init__</code> method of the <code>sqlite_cache</code> and <code>sqlite_registry</code> classes. In the <code>sqlite_cache</code> class, it is used to map a mapping object to a cache table in the database. In the <code>sqlite_registry</code> class, it is used to map various types of registry entries to tables in the database.</p>
<p>When using the <code>map_imperatively</code> function, it is important to ensure that the <code>obj</code> parameter is a valid object that can be mapped to a table in the database, and that the <code>table</code> parameter is a valid table in the database. Additionally, the <code>__compat</code> attribute must be available if the registry-compatible method of mapping the object to the table is to be used.</p>
<hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/gpoa/storage/sqlite_registry"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">sqlite_registry</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/gpoa/test/frontend/appliers/test_controls"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">test_controls</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classdef-sqlite_registry_compat" class="table-of-contents__link toc-highlight">ClassDef sqlite_registry_compat</a><ul><li><a href="#functiondef-initself-db_cnt" class="table-of-contents__link toc-highlight">FunctionDef <strong>init</strong>(self, db_cnt)</a></li><li><a href="#functiondef-metadataself" class="table-of-contents__link toc-highlight">FunctionDef metadata(self)</a></li><li><a href="#functiondef-map_imperativelyself-obj-table" class="table-of-contents__link toc-highlight">FunctionDef map_imperatively(self, obj, table)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>