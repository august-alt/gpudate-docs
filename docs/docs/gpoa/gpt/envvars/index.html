<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/gpt/envvars" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">envvars | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://august-alt.github.io/gpupdate-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://august-alt.github.io/gpupdate-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://august-alt.github.io/gpupdate-docs/docs/gpoa/gpt/envvars"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="envvars | GPUpdate Docs"><meta data-rh="true" name="description" content="ClassDef FileAction"><meta data-rh="true" property="og:description" content="ClassDef FileAction"><link data-rh="true" rel="icon" href="/gpupdate-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/gpt/envvars"><link data-rh="true" rel="alternate" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/gpt/envvars" hreflang="en"><link data-rh="true" rel="alternate" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/gpt/envvars" hreflang="x-default"><link rel="stylesheet" href="/gpupdate-docs/assets/css/styles.d27c289a.css">
<script src="/gpupdate-docs/assets/js/runtime~main.9c9ca5ac.js" defer="defer"></script>
<script src="/gpupdate-docs/assets/js/main.77502ab4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/gpupdate-docs/"><div class="navbar__logo"><img src="/gpupdate-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/gpupdate-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/gpupdate-docs/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/">gpt</a><button aria-label="Collapse sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/drives">drives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/envvars">envvars</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/files">files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/folders">folders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/inifiles">inifiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/networkshares">networkshares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/polfile">polfile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/printers">printers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/scriptsini">scriptsini</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/services">services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/shortcuts">shortcuts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/tasks">tasks</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/storage/cache">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/test/frontend/appliers/test_controls">test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/">util</a><button aria-label="Expand sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/gpupdate-docs/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/gpupdate-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gpupdate-docs/docs/gpoa/gpt/"><span itemprop="name">gpt</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">envvars</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>envvars</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-fileaction">ClassDef FileAction<a href="#classdef-fileaction" class="hash-link" aria-label="Direct link to ClassDef FileAction" title="Direct link to ClassDef FileAction">​</a></h2>
<p><strong>FileAction</strong>: The FileAction class is an enumeration type that defines four actions related to file management: CREATE, REPLACE, UPDATE, and DELETE.</p>
<p><strong>Attributes</strong>:
· CREATE: A constant that represents the action of creating a new file.
· REPLACE: A constant that represents the action of replacing the content of an existing file.
· UPDATE: A constant that represents the action of updating the content of an existing file.
· DELETE: A constant that represents the action of deleting a file.</p>
<p><strong>Code Description</strong>:
The FileAction class is used to represent different actions that can be performed on a file. It is defined as an enumeration type with four constants: CREATE, REPLACE, UPDATE, and DELETE. These constants are used to indicate the desired action to be taken on a file in various parts of the project.</p>
<p>For instance, in the Envvar class (gpoa/frontend/appliers/envvar.py/Envvar), the act method uses the FileAction enumeration to determine the action to be performed on a file based on the action attribute of each Envvar object. The action_letter2enum function (gpoa/gpt/envvars.py/action_letter2enum) is then used to convert the action letter (C, R, U, or D) to the corresponding FileAction constant.</p>
<p>In the act method, the file content is updated based on the action attribute of each Envvar object. If the action is CREATE, the file is created if it does not exist; if the action is DELETE, the file is deleted if it exists; if the action is REPLACE or UPDATE, the file content is replaced or updated accordingly.</p>
<p>The FileAction enumeration is also used in the envvar module (gpoa/gpt/envvars.py) to initialize the action attribute of each Envvar object to the CREATE constant by default.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The FileAction enumeration should be used consistently throughout the project to indicate file actions.</li>
<li>The action_letter2enum function should be used to convert action letters to FileAction constants.</li>
<li>The Envvar class uses the FileAction enumeration to determine the action to be performed on a file.</li>
<li>The envvar module initializes the action attribute of each Envvar object to the CREATE constant by default.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-action_letter2enumletter">FunctionDef action_letter2enum(letter)<a href="#functiondef-action_letter2enumletter" class="hash-link" aria-label="Direct link to FunctionDef action_letter2enum(letter)" title="Direct link to FunctionDef action_letter2enum(letter)">​</a></h2>
<p><strong>action_letter2enum</strong>: The function of action_letter2enum is to convert a file action letter (C, R, U, or D) to the corresponding FileAction enumeration constant.</p>
<p><strong>parameters</strong>:
· letter (str): A single character representing a file action (C for create, R for replace, U for update, or D for delete).</p>
<p><strong>Code Description</strong>:
The action_letter2enum function takes a single character string parameter, letter, which represents a file action. It checks if the letter is one of the four valid action letters (C, R, U, or D) and returns the corresponding FileAction enumeration constant. If the letter is not a valid action letter, it defaults to returning the FileAction.CREATE constant.</p>
<p>This function is used to convert action letters to FileAction constants, providing a consistent and clear way to represent file actions throughout the project. It is called by the Envvar class&#x27;s act method (gpoa/frontend/appliers/envvar.py/Envvar/act) and the read_envvars function (gpoa/gpt/envvars.py/read_envvars) to determine the action to be performed on a file based on the action attribute of each Envvar object.</p>
<p>In the Envvar class&#x27;s act method, action_letter2enum converts the action letter to the corresponding FileAction constant, which is then used to determine the action to be performed on the file. In the read_envvars function, action_letter2enum sets the action attribute of each Envvar object to the corresponding FileAction constant based on the action letter provided in the XML file.</p>
<p>By using the action_letter2enum function, the project ensures consistency in representing file actions and makes it easier to maintain and extend the codebase.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The action_letter2enum function should be used consistently throughout the project to convert action letters to FileAction constants.</li>
<li>The input parameter, letter, should be a single character representing a file action (C, R, U, or D).</li>
</ul>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">action_letter2enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;C&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns FileAction.CREATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">action_letter2enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;R&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns FileAction.REPLACE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">action_letter2enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;U&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns FileAction.UPDATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">action_letter2enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;D&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns FileAction.DELETE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">action_letter2enum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;X&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns FileAction.CREATE (as &#x27;X&#x27; is not a valid action letter)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-read_envvarsenvvars_file">FunctionDef read_envvars(envvars_file)<a href="#functiondef-read_envvarsenvvars_file" class="hash-link" aria-label="Direct link to FunctionDef read_envvars(envvars_file)" title="Direct link to FunctionDef read_envvars(envvars_file)">​</a></h2>
<p><strong>read_envvars</strong>: The function of read_envvars is to read environment variables from an XML file and convert them into a list of envvar objects, each with a name, value, and action attribute.</p>
<p><strong>parameters</strong>:
· envvars_file: A string representing the path to the XML file containing the environment variables.</p>
<p><strong>Code Description</strong>:
The read_envvars function begins by initializing an empty list called variables, which will store the envvar objects created from the XML file.</p>
<p>Next, the function calls the get_xml_root function (gpoa/util/xml.py/get_xml_root), passing in the envvars_file parameter to parse the XML file and return its root element.</p>
<p>The function then iterates over each child element of the root element, which should correspond to an environment variable in the XML file. For each child element, the function extracts the &#x27;name&#x27;, &#x27;value&#x27;, and &#x27;action&#x27; attributes using the find() and get() methods of the ElementTree module.</p>
<p>The &#x27;name&#x27; and &#x27;value&#x27; attributes are used to create a new envvar object, which is added to the variables list. The &#x27;action&#x27; attribute is converted to the corresponding FileAction enumeration constant using the action_letter2enum function (gpoa/gpt/envvars.py/action_letter2enum). The set_action method of the envvar class is then called to set the action attribute of the envvar object to the converted FileAction enumeration constant.</p>
<p>Finally, the function returns the variables list containing the envvar objects created from the XML file.</p>
<p>The read_envvars function is called by the pref_parsers function (gpoa/gpt/gpt.py/pref_parsers) to parse environment variables from an XML file and convert them into a list of envvar objects. The envvar objects are then used to perform actions on the environment variables based on their name, value, and action attributes.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The read_envvars function assumes that the XML file passed in as the envvars_file parameter is valid and can be parsed by the ElementTree module. If an invalid XML file is passed in, the function may raise an exception.</li>
<li>The read_envvars function sets the default action attribute of each envvar object to FileAction.CREATE if the &#x27;action&#x27; attribute is not specified in the XML file.</li>
</ul>
<p><strong>Output Example</strong>:
Suppose we have an XML file named &quot;envvars.xml&quot; with the following contents:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">root</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">envvar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">VAR1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">value1</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">action</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">U</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">action</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">envvar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">envvar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">VAR2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">name</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">value2</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">value</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">envvar</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">root</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Calling the read_envvars function with the path to this file as its parameter would return the following list:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  envvar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;VAR1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;value1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> action</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">FileAction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">UPDATE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  envvar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;VAR2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;value2&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> action</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">FileAction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CREATE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This list contains two envvar objects, one with the name &quot;VAR1&quot;, value &quot;value1&quot;, and action FileAction.UPDATE, and another with the name &quot;VAR2&quot;, value &quot;value2&quot;, and action FileAction.CREATE. The second envvar object has a default action of CREATE since the &#x27;action&#x27; attribute is not specified in the XML file.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-merge_envvarsstorage-sid-envvar_objects-policy_name">FunctionDef merge_envvars(storage, sid, envvar_objects, policy_name)<a href="#functiondef-merge_envvarsstorage-sid-envvar_objects-policy_name" class="hash-link" aria-label="Direct link to FunctionDef merge_envvars(storage, sid, envvar_objects, policy_name)" title="Direct link to FunctionDef merge_envvars(storage, sid, envvar_objects, policy_name)">​</a></h2>
<p><strong>merge_envvars</strong>: The function of merge_envvars is to merge environment variables in the storage object based on the input environment variable objects and policy name.</p>
<p><strong>parameters</strong>:
· storage: An object that has the method add_envvar to add environment variables.
· sid: A string that represents the session ID.
· envvar_objects: A list of environment variable objects to be merged.
· policy_name: A string that represents the name of the policy.</p>
<p><strong>Code Description</strong>:
The function iterates over each environment variable object in the envvar_objects list and calls the add_envvar method of the storage object to add the environment variable to the storage. The session ID (sid) and policy name are also passed as arguments while adding the environment variable. This way, the function helps in organizing and managing environment variables in a centralized storage object by merging them based on the provided session ID and policy name.</p>
<p>From a functional perspective, this code plays a crucial role in the pref_mergers object defined in gpoa/gpt/gpt.py. The pref_mergers object is a dictionary that maps different file types to their corresponding merger functions. The merge_envvars function is assigned as the merger function for the FileType.ENVIRONMENTVARIABLES file type. When the pref_mergers object is called with this file type, it invokes the merge_envvars function to merge the environment variables based on the provided storage, session ID, environment variable objects, and policy name.</p>
<p><strong>Note</strong>:
It is essential to ensure that the storage object passed as an argument has the add_envvar method defined, and it can handle the merging of environment variables efficiently. Also, the envvar_objects list should contain well-structured environment variable objects for successful merging. Lastly, the policy_name should be a valid string to ensure proper merging based on the policy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-envvar">ClassDef envvar<a href="#classdef-envvar" class="hash-link" aria-label="Direct link to ClassDef envvar" title="Direct link to ClassDef envvar">​</a></h2>
<p><strong>envvar</strong>: The function of envvar is to represent an environment variable with a name and value, as well as an action associated with it.</p>
<p><strong>attributes</strong>:
· name: The name of the environment variable.
· value: The value of the environment variable.
· action: The action to be taken on the environment variable. This is an instance of the FileAction enum and can be CREATE, UPDATE, or DELETE.</p>
<p><strong>Code Description</strong>:
The envvar class is instantiated with a name and value for the environment variable. It has a default action of CREATE. The set_action method allows for changing the action associated with the environment variable.</p>
<p>The envvar class is used in the read_envvars function to read environment variables from an XML file and create envvar objects for each one. The action for each environment variable is determined by the &#x27;action&#x27; attribute in the XML file, which is converted to the corresponding FileAction enum value using the action_letter2enum function.</p>
<p><strong>Note</strong>:
It is important to note that the envvar class is designed to work with environment variables in the context of an XML file. The name and value attributes correspond to the &#x27;name&#x27; and &#x27;value&#x27; elements in the XML file, and the action attribute corresponds to the &#x27;action&#x27; element. When creating envvar objects, make sure to provide the name and value as strings. The action can be provided as a string or as a FileAction enum value.</p>
<p>Additionally, the set_action method allows for changing the action associated with an envvar object after it has been created. This can be useful if the action for a particular environment variable needs to be updated based on new information.</p>
<p>When working with the envvar class, it is also important to ensure that the action attribute is set to a valid FileAction enum value (CREATE, UPDATE, or DELETE). Attempting to set the action to an invalid value will result in a ValueError.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-initself-name-value">FunctionDef <strong>init</strong>(self, name, value)<a href="#functiondef-initself-name-value" class="hash-link" aria-label="Direct link to functiondef-initself-name-value" title="Direct link to functiondef-initself-name-value">​</a></h3>
<p><strong><strong>init</strong></strong>: The function of the <strong><strong>init</strong></strong> method in the <code>envvar</code> class is to initialize the attributes of an <code>envvar</code> object with the given <code>name</code> and <code>value</code>, and set the default <code>action</code> to <code>FileAction.CREATE</code>.</p>
<p><strong>parameters</strong>:
· <code>name</code>: A string representing the name of the environment variable.
· <code>value</code>: A string representing the value of the environment variable.</p>
<p><strong>Code Description</strong>:
The <code>__init__</code> method is a special method in Python classes that gets called when a new instance of the class is created. In this case, it sets the <code>name</code> and <code>value</code> attributes of the <code>envvar</code> object to the given <code>name</code> and <code>value</code> parameters, respectively.</p>
<p>Additionally, the <code>action</code> attribute is set to <code>FileAction.CREATE</code>, which is an enumeration constant defined in the <code>FileAction</code> class. This constant represents the action of creating a new file, and it is used to indicate the desired action to be taken on a file in various parts of the project.</p>
<p>The <code>FileAction</code> enumeration is used consistently throughout the project to indicate file actions, and it should be used consistently in this class as well. By setting the default <code>action</code> to <code>FileAction.CREATE</code>, the <code>envvar</code> class ensures that any new <code>envvar</code> object will have a default action set, which can be changed later if necessary.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>FileAction</code> enumeration should be used consistently throughout the project to indicate file actions.</li>
<li>The <code>action</code> attribute of an <code>envvar</code> object should be set to the appropriate <code>FileAction</code> constant to indicate the desired action to be taken on a file.</li>
<li>The <code>__init__</code> method is a special method in Python classes that gets called when a new instance of the class is created. It is used to initialize the attributes of the new instance.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-set_actionself-action">FunctionDef set_action(self, action)<a href="#functiondef-set_actionself-action" class="hash-link" aria-label="Direct link to FunctionDef set_action(self, action)" title="Direct link to FunctionDef set_action(self, action)">​</a></h3>
<p><strong>set_action</strong>: The function of set_action is to set the action attribute of an envvar object.</p>
<p><strong>parameters</strong>:
· <strong>action</strong>: The action to be set for the envvar object. This is expected to be an integer value representing the action type.</p>
<p><strong>Code Description</strong>:
The set_action function is a simple method that sets the action attribute of an envvar object to the input action value. It is defined within the envvar class and takes a single parameter, action, which is the action to be set for the object.</p>
<p>In the project, this function is called by the read_envvars function, which is responsible for reading environment variables from an XML file and creating envvar objects for each variable. After creating an envvar object, the read_envvars function calls the set_action function to set the action attribute of the object based on the action value specified in the XML file.</p>
<p>It is important to note that the action value passed to the set_action function is obtained from the XML file using the get() method, which returns the value of the specified attribute if it exists or a default value if it does not. In the case of the read_envvars function, the default value is set to &#x27;C&#x27;, which represents the default action type.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The set_action function expects the action parameter to be an integer value representing the action type. It is important to ensure that the value passed to this function is valid and correctly represents the desired action type.</li>
<li>The set_action function is called by the read_envvars function to set the action attribute of envvar objects created from an XML file. It is important to ensure that the XML file is correctly formatted and that the action attribute is specified correctly for each variable.</li>
<li>The set_action function is defined within the envvar class and is only accessible through an envvar object. It is not intended to be called as a standalone function.</li>
</ul>
<hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/gpupdate-docs/docs/gpoa/gpt/drives"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">drives</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/gpupdate-docs/docs/gpoa/gpt/files"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">files</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classdef-fileaction" class="table-of-contents__link toc-highlight">ClassDef FileAction</a></li><li><a href="#functiondef-action_letter2enumletter" class="table-of-contents__link toc-highlight">FunctionDef action_letter2enum(letter)</a></li><li><a href="#functiondef-read_envvarsenvvars_file" class="table-of-contents__link toc-highlight">FunctionDef read_envvars(envvars_file)</a></li><li><a href="#functiondef-merge_envvarsstorage-sid-envvar_objects-policy_name" class="table-of-contents__link toc-highlight">FunctionDef merge_envvars(storage, sid, envvar_objects, policy_name)</a></li><li><a href="#classdef-envvar" class="table-of-contents__link toc-highlight">ClassDef envvar</a><ul><li><a href="#functiondef-initself-name-value" class="table-of-contents__link toc-highlight">FunctionDef <strong>init</strong>(self, name, value)</a></li><li><a href="#functiondef-set_actionself-action" class="table-of-contents__link toc-highlight">FunctionDef set_action(self, action)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/gpupdate-docs/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>