<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/util/rpm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">rpm | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://august-alt.github.io/gpupdate-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://august-alt.github.io/gpupdate-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://august-alt.github.io/gpupdate-docs/docs/gpoa/util/rpm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="rpm | GPUpdate Docs"><meta data-rh="true" name="description" content="FunctionDef isrpminstalled(rpm_name)"><meta data-rh="true" property="og:description" content="FunctionDef isrpminstalled(rpm_name)"><link data-rh="true" rel="icon" href="/gpupdate-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/util/rpm"><link data-rh="true" rel="alternate" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/util/rpm" hreflang="en"><link data-rh="true" rel="alternate" href="https://august-alt.github.io/gpupdate-docs/docs/gpoa/util/rpm" hreflang="x-default"><link rel="stylesheet" href="/gpupdate-docs/assets/css/styles.d27c289a.css">
<script src="/gpupdate-docs/assets/js/runtime~main.9c9ca5ac.js" defer="defer"></script>
<script src="/gpupdate-docs/assets/js/main.77502ab4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/gpupdate-docs/"><div class="navbar__logo"><img src="/gpupdate-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/gpupdate-docs/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/gpupdate-docs/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/gpt/">gpt</a><button aria-label="Expand sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/storage/cache">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/gpupdate-docs/docs/gpoa/test/frontend/appliers/test_controls">test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/">util</a><button aria-label="Collapse sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/arguments">arguments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/config">config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/dbus">dbus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/exceptions">exceptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/gpoa_ini_parsing">gpoa_ini_parsing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/kerberos">kerberos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/logging">logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/paths">paths</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/preg">preg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/roles">roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/rpm">rpm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/samba">samba</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/sid">sid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/signals">signals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/system">system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/users">users</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/windows">windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/xdg">xdg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/gpupdate-docs/docs/gpoa/util/xml">xml</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/gpupdate-docs/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/gpupdate-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gpupdate-docs/docs/gpoa/util/"><span itemprop="name">util</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">rpm</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>rpm</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-is_rpm_installedrpm_name">FunctionDef is_rpm_installed(rpm_name)<a href="#functiondef-is_rpm_installedrpm_name" class="hash-link" aria-label="Direct link to FunctionDef is_rpm_installed(rpm_name)" title="Direct link to FunctionDef is_rpm_installed(rpm_name)">​</a></h2>
<p><strong>is_rpm_installed</strong>: The function of <code>is_rpm_installed</code> is to check if the package named by the input string is installed in the system.</p>
<p><strong>parameters</strong>:</p>
<p>· <code>rpm_name</code>: A string representing the name of the rpm package to be checked.</p>
<p><strong>Code Description</strong>:</p>
<p><code>is_rpm_installed</code> is a function defined in the <code>Package</code> class of the <code>rpm.py</code> module. It uses the <code>rpm</code> Python module to interact with the RPM database of the system and check if the package is installed.</p>
<p>The function takes a string <code>rpm_name</code> as input, which represents the name of the RPM package to be checked. It initializes a <code>TransactionSet</code> object <code>ts</code> and searches for the package in the RPM database using the <code>dbMatch</code> method with the package name as the search key. The <code>dbMatch</code> method returns a <code>MatchList</code> object <code>pm</code> containing all the packages that match the search key.</p>
<p>The function then checks if the <code>MatchList</code> object <code>pm</code> contains any packages by calling its <code>count</code> method. If the count is greater than zero, it means that the package is installed, and the function returns <code>True</code>. Otherwise, it returns <code>False</code>.</p>
<p>From a functional perspective, <code>is_rpm_installed</code> plays a crucial role in the <code>Package</code> class of the <code>rpm.py</code> module, as it is used to determine if a package is installed before performing any installation or removal operations. It is also used in other parts of the project, such as the <code>cups_applier</code> and <code>cups_applier_user</code> classes of the <code>cups_applier.py</code> module, to check if the required packages are installed before performing any operations that depend on them.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The function assumes that the input string <code>rpm_name</code> is a valid RPM package name. If an invalid package name is passed, the function may raise an exception.</li>
<li>The function only checks if the package is installed or not. It does not provide any information about the package version or dependencies.</li>
</ul>
<p><strong>Output Example</strong>:</p>
<p>For example, if the function is called with the input <code>&#x27;cups&#x27;</code>, it may return <code>True</code> if the <code>cups</code> package is installed in the system, and <code>False</code> otherwise.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-package">ClassDef Package<a href="#classdef-package" class="hash-link" aria-label="Direct link to ClassDef Package" title="Direct link to ClassDef Package">​</a></h2>
<p><strong>Package</strong>: The Package class is used to manage the installation, reinstallation, and removal of Debian packages using the apt package manager.</p>
<p><strong>attributes</strong>:</p>
<p>· package_name (str): The name of the package.</p>
<p>· for_install (bool): A flag indicating whether the package is marked for installation or removal.</p>
<p>· installed (bool): A flag indicating whether the package is currently installed.</p>
<p><strong>Code Description</strong>:</p>
<p>The Package class is initialized with a package_name, which can optionally end with a &#x27;-&#x27; character to indicate that the package should be marked for removal instead of installation. The installed attribute is initialized by checking if the package is currently installed using the is_rpm_installed function (not shown in the provided code).</p>
<p>The class provides several methods to manage the package:</p>
<p>· mark_for_install(): Sets the for_install attribute to True, indicating that the package should be installed.</p>
<p>· mark_for_removal(): Sets the for_install attribute to False, indicating that the package should be removed.</p>
<p>· is_installed(): Returns the installed attribute.</p>
<p>· is_for_install(): Returns the for_install attribute.</p>
<p>· is_for_removal(): Returns the negation of the for_install attribute.</p>
<p>· action(): Performs the appropriate action based on the for_install attribute. If the package is marked for installation and is not currently installed, the install() method is called. If the package is marked for removal and is currently installed, the remove() method is called.</p>
<p>· install(): Installs the package using the apt-get install command.</p>
<p>· reinstall(): Reinstalls the package using the apt-get reinstall command.</p>
<p>· remove(): Removes the package using the apt-get remove command.</p>
<p>The Package class is used by the install_rpm and remove_rpm functions to install and remove packages, respectively. The install_rpm function creates a Package object with the given package name and calls the install() method. The remove_rpm function creates a Package object with the given package name and marks it for removal, then calls the remove() method.</p>
<p><strong>Note</strong>:</p>
<p>· The Package class assumes that the system has the apt package manager installed and that the package names are valid Debian package names.</p>
<p>· The Package class does not handle errors that may occur during the installation, reinstallation, or removal of packages.</p>
<p>· The Package class does not provide a method to update packages.</p>
<p><strong>Output Example</strong>:</p>
<p>For the Package class, there is no single output example as it manages the installation, reinstallation, and removal of packages, and its output will depend on the package name and the current state of the system. However, here is an example of how the Package class can be used to install a package:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;wget&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_installed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_installed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token boolean" style="color:#36acaa">True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, a Package object is created with the package name &#x27;wget&#x27;, which is not currently installed. The action() method is called, which installs the package, and the is_installed() method is used to verify that the package is now installed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-initself-package_name">FunctionDef <strong>init</strong>(self, package_name)<a href="#functiondef-initself-package_name" class="hash-link" aria-label="Direct link to functiondef-initself-package_name" title="Direct link to functiondef-initself-package_name">​</a></h3>
<p><strong><strong>init</strong></strong>: The function of <strong>__init__</strong> is to initialize a Package object with a given package name and set the installation status based on whether the package is already installed or not.</p>
<p><strong>parameters</strong>:</p>
<p>· <strong>package_name</strong>: A string representing the name of the package to be managed.</p>
<p><strong>Code Description</strong>:</p>
<p>The <strong>__init__</strong> function initializes a Package object with the given package name and sets the installation status based on whether the package is already installed or not. It first sets the installation commands for installing, removing, and reinstalling the package. These commands are set to use the <code>apt-get</code> command, which is a command-line tool for managing packages in Debian-based systems.</p>
<p>The function then sets the <code>package_name</code> attribute of the object to the given package name. It also sets the <code>for_install</code> attribute to <code>True</code>, indicating that the package is to be installed.</p>
<p>Next, the function checks if the package name ends with a hyphen (-). If it does, the function removes the hyphen from the package name and sets the <code>for_install</code> attribute to <code>False</code>, indicating that the package is to be removed.</p>
<p>Finally, the function checks if the package is already installed by calling the <code>is_rpm_installed</code> function with the package name as the argument. The <code>is_rpm_installed</code> function returns <code>True</code> if the package is installed and <code>False</code> otherwise. The function sets the <code>installed</code> attribute of the object to the value returned by <code>is_rpm_installed</code>.</p>
<p>From a functional perspective, the <strong>__init__</strong> function plays a crucial role in the Package class of the <code>rpm.py</code> module, as it initializes a Package object with the given package name and sets the installation status based on whether the package is already installed or not. It also sets the installation commands for installing, removing, and reinstalling the package.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The function assumes that the input string <code>package_name</code> is a valid package name. If an invalid package name is passed, the function may raise an exception.</li>
<li>The function only checks if the package is installed or not. It does not provide any information about the package version or dependencies.</li>
<li>The function uses the <code>is_rpm_installed</code> function to check if the package is installed. This function assumes that the input string is a valid RPM package name and may raise an exception if an invalid package name is passed.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-mark_for_installself">FunctionDef mark_for_install(self)<a href="#functiondef-mark_for_installself" class="hash-link" aria-label="Direct link to FunctionDef mark_for_install(self)" title="Direct link to FunctionDef mark_for_install(self)">​</a></h3>
<p><strong>mark_for_install</strong>：The function of mark_for_install is to mark a package as set to be installed.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The function mark_for_install is a method of the Package class, which is used to set the attribute for_install to True. This attribute is used to indicate whether the package should be installed or not. By setting this attribute to True, it indicates that the package is marked for installation.</p>
<p>Here&#x27;s the code breakdown:</p>
<ul>
<li><code>def mark_for_install(self):</code> This line defines the function mark_for_install, which is a method of the Package class. The <code>self</code> parameter is a reference to the instance of the class, which allows the method to access and modify the attributes of that instance.</li>
<li><code>self.for_install = True</code> This line sets the attribute for_install of the Package instance to True, indicating that the package is marked for installation.</li>
</ul>
<p><strong>Note</strong>:</p>
<ul>
<li>This function does not return any value.</li>
<li>The attribute for_install is not defined in the code snippet provided, so it is assumed that it is defined elsewhere in the Package class.</li>
<li>It is important to ensure that the for_install attribute is accessible and modifiable within the mark_for_install method.</li>
<li>This function should be called only for Package instances, and not for any other classes or objects.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-mark_for_removalself">FunctionDef mark_for_removal(self)<a href="#functiondef-mark_for_removalself" class="hash-link" aria-label="Direct link to FunctionDef mark_for_removal(self)" title="Direct link to FunctionDef mark_for_removal(self)">​</a></h3>
<p><strong>mark_for_removal</strong></p>
<p>The function of <code>mark_for_removal</code> is to mark the package as not intended for installation.</p>
<p><strong>Parameters</strong></p>
<p>This function does not take any parameters.</p>
<p><strong>Code Description</strong></p>
<p>The <code>mark_for_removal</code> function is a method of the <code>Package</code> class, which is defined in the <code>rpm.py</code> module in the <code>util</code> package. It sets the <code>for_install</code> attribute of the <code>Package</code> object to <code>False</code>. This attribute is presumably used to indicate whether the package is intended for installation or not. By setting it to <code>False</code>, the function indicates that the package should not be installed.</p>
<p><strong>Note</strong></p>
<ul>
<li>This function does not raise any exceptions, so it should be used in a try-except block if there is a possibility that the package may not have the <code>for_install</code> attribute.</li>
<li>This function has no return value, so it should not be used in an expression that expects a value.</li>
<li>This function modifies the state of the <code>Package</code> object on which it is called, so it should be used with caution. It is recommended to create a copy of the <code>Package</code> object before calling this function if the original object&#x27;s state needs to be preserved.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-is_installedself">FunctionDef is_installed(self)<a href="#functiondef-is_installedself" class="hash-link" aria-label="Direct link to FunctionDef is_installed(self)" title="Direct link to FunctionDef is_installed(self)">​</a></h3>
<p><strong>is_installed</strong>: This function checks and returns the installed status of a package.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The <code>is_installed</code> function is a method of the <code>Package</code> class in the <code>rpm.py</code> module. It returns the value of the <code>installed</code> attribute of the <code>Package</code> object on which it is called. The <code>installed</code> attribute is assumed to be a boolean variable that indicates whether the package is installed or not. This function is used to determine the current installation status of a package.</p>
<p>From a functional perspective, the <code>is_installed</code> function plays a crucial role in the package management system. It is used in the <code>action</code> function of the <code>Package</code> class to decide whether to install or remove a package based on its current installation status. If the package is not installed and the <code>for_install</code> attribute is set to True, the <code>action</code> function calls the <code>install</code> method. Otherwise, if the package is installed and the <code>for_install</code> attribute is set to False, the <code>action</code> function calls the <code>remove</code> method.</p>
<p><strong>Note</strong>: It is important to ensure that the <code>installed</code> attribute is correctly set and updated whenever a package is installed or removed. Inaccurate values of the <code>installed</code> attribute may lead to unexpected behavior in the package management system.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;example_package&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> installed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_installed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Returns: True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the <code>is_installed</code> function returns <code>True</code>, indicating that the <code>example_package</code> is currently installed.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-is_for_installself">FunctionDef is_for_install(self)<a href="#functiondef-is_for_installself" class="hash-link" aria-label="Direct link to FunctionDef is_for_install(self)" title="Direct link to FunctionDef is_for_install(self)">​</a></h3>
<p><strong>is_for_install</strong>: The function of is_for_install is to check and return the installation status of a package.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The function is_for_install is a method of the Package class, defined in rpm.py file, which is used to check the installation status of a package. It returns the value of the attribute &#x27;for_install&#x27; of the Package object. The attribute &#x27;for_install&#x27; is expected to be set based on some condition or logic defined elsewhere in the code, indicating whether the package is meant for installation or not.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>This function does not perform any actual installation or uninstallation of packages. It only checks and returns the installation status based on the &#x27;for_install&#x27; attribute.</li>
<li>The &#x27;for_install&#x27; attribute must be set appropriately before calling this function to get the correct status.</li>
</ul>
<p><strong>Output Example</strong>:
Suppose a Package object &#x27;package1&#x27; has &#x27;for_install&#x27; attribute set to True, then calling is_for_install on &#x27;package1&#x27; would return:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_for_install</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If &#x27;for_install&#x27; attribute is set to False, then:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">for_install </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">package1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_for_install</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># returns False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-is_for_removalself">FunctionDef is_for_removal(self)<a href="#functiondef-is_for_removalself" class="hash-link" aria-label="Direct link to FunctionDef is_for_removal(self)" title="Direct link to FunctionDef is_for_removal(self)">​</a></h3>
<p><strong>is_for_removal</strong>: This function is used to determine if a package is marked for removal.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The <code>is_for_removal</code> function is a method of the <code>Package</code> class, which can be found in the <code>rpm.py</code> file located in the <code>util</code> directory of the <code>gpoa</code> project. This function returns a boolean value based on the <code>for_install</code> attribute of the <code>Package</code> object it is called on. Specifically, if the <code>for_install</code> attribute is <code>False</code>, then the function returns <code>True</code>, indicating that the package is marked for removal. Conversely, if the <code>for_install</code> attribute is <code>True</code>, then the function returns <code>False</code>, indicating that the package is not marked for removal.</p>
<p><strong>Note</strong>: It is important to note that the <code>for_install</code> attribute is assumed to be a boolean value. If it is not, then the behavior of this function may be unexpected. Additionally, this function only checks if a package is marked for removal, it does not actually remove the package.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">for_install</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_for_removal</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Output: True</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the <code>Package</code> object is created with the <code>for_install</code> attribute set to <code>False</code>. When the <code>is_for_removal</code> method is called on this object, it returns <code>True</code>, indicating that the package is marked for removal.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-actionself">FunctionDef action(self)<a href="#functiondef-actionself" class="hash-link" aria-label="Direct link to FunctionDef action(self)" title="Direct link to FunctionDef action(self)">​</a></h3>
<p><strong>action</strong>: The function of action is to perform the appropriate package management operation based on the package&#x27;s current installation status and the value of the <code>for_install</code> attribute.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The <code>action</code> function is a method of the <code>Package</code> class, which is defined in the <code>rpm.py</code> file. It determines whether to install or remove the package based on the value of the <code>for_install</code> attribute and the package&#x27;s current installation status.</p>
<p>If <code>for_install</code> is <code>True</code>, and the package is not currently installed, the <code>action</code> function calls the <code>install</code> function to install the package. If <code>for_install</code> is <code>False</code>, and the package is currently installed, the <code>action</code> function calls the <code>remove</code> function to remove the package.</p>
<p>The <code>action</code> function uses the <code>is_installed</code> function to determine the package&#x27;s current installation status. If the package is not installed and <code>for_install</code> is <code>True</code>, the <code>action</code> function calls the <code>install</code> function. Otherwise, if the package is installed and <code>for_install</code> is <code>False</code>, the <code>action</code> function calls the <code>remove</code> function.</p>
<p>The <code>action</code> function plays a crucial role in the package management system. It is used to determine the appropriate package management operation based on the package&#x27;s current installation status and the value of the <code>for_install</code> attribute.</p>
<p><strong>Note</strong>: It is important to ensure that the <code>for_install</code> attribute is correctly set and updated whenever a package management operation is performed. Inaccurate values of the <code>for_install</code> attribute may lead to unexpected behavior in the package management system.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;example_package&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> installed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">for_install </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Installs the example_package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;example_package&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> installed</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">for_install </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pkg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Removes the example_package</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In the first example, the <code>action</code> function installs the <code>example_package</code> because the <code>for_install</code> attribute is <code>True</code> and the package is not currently installed. In the second example, the <code>action</code> function removes the <code>example_package</code> because the <code>for_install</code> attribute is <code>False</code> and the package is currently installed.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-installself">FunctionDef install(self)<a href="#functiondef-installself" class="hash-link" aria-label="Direct link to FunctionDef install(self)" title="Direct link to FunctionDef install(self)">​</a></h3>
<p><strong>install</strong>: The function of install is to execute the installation command for a specific RPM package.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The install function first retrieves the installation command for the package, which is stored in the <code>fullcmd</code> variable. It then appends the name of the package to the command. Finally, it executes the installation command using the <code>subprocess.check_call</code> method, which runs the command and waits for it to complete. If the command completes successfully, the function returns the exit code of the command. If the command fails, the function raises a <code>CalledProcessError</code> exception.</p>
<p>The installation command is constructed based on the configuration of the package object, which is created when the <code>Package</code> class is instantiated. The command is stored in the <code>__install_command</code> attribute of the package object.</p>
<p>This function is typically called by the <code>action</code> method of the <code>Package</code> class, which determines whether to install or remove the package based on the value of the <code>for_install</code> attribute. If <code>for_install</code> is <code>True</code>, and the package is not currently installed, the <code>action</code> method calls the <code>install</code> function to install the package.</p>
<p>The <code>install</code> function can also be called directly, as shown in the <code>install_rpm</code> function. In this case, the function is called with the name of the RPM package to be installed.</p>
<p><strong>Note</strong>: It is important to ensure that the <code>__install_command</code> attribute of the package object is correctly configured before calling the <code>install</code> function. If the command is not correctly configured, the function may fail to install the package or may install the wrong package.</p>
<p><strong>Output Example</strong>: If the installation command is <code>rpm -ivh package.rpm</code>, and the package is installed successfully, the function will return <code>0</code>. If the installation fails, the function will raise a <code>CalledProcessError</code> exception.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-reinstallself">FunctionDef reinstall(self)<a href="#functiondef-reinstallself" class="hash-link" aria-label="Direct link to FunctionDef reinstall(self)" title="Direct link to FunctionDef reinstall(self)">​</a></h3>
<p><strong>reinstall</strong>: The function of reinstall is to reinstall a software package using the stored reinstall command.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The reinstall function first initializes a variable &#x27;fullcmd&#x27; with the value of the attribute &#x27;__reinstall_command&#x27; which is a list containing the command used to reinstall the package. Then, the package name is appended to the &#x27;fullcmd&#x27; list. Finally, the &#x27;subprocess.check_call&#x27; function is used to execute the &#x27;fullcmd&#x27; list as a system command. This function will raise a CalledProcessError if the command returns a non-zero exit status.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The &#x27;__reinstall_command&#x27; attribute should be defined and initialized before calling this function.</li>
<li>The &#x27;package_name&#x27; attribute should also be defined and initialized before calling this function.</li>
</ul>
<p><strong>Output Example</strong>:</p>
<p>If the &#x27;__reinstall_command&#x27; attribute is defined as [&#x27;yum&#x27;, &#x27;reinstall&#x27;] and the &#x27;package_name&#x27; attribute is defined as &#x27;httpd&#x27;, then the output of this function will be the same as running the command &#x27;yum reinstall httpd&#x27; in the terminal. If the package &#x27;httpd&#x27; is already installed, the output will show the information of the package and ask for confirmation to reinstall it. If the package &#x27;httpd&#x27; is not installed, the output will show the information of downloading and installing the package.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-removeself">FunctionDef remove(self)<a href="#functiondef-removeself" class="hash-link" aria-label="Direct link to FunctionDef remove(self)" title="Direct link to FunctionDef remove(self)">​</a></h3>
<p><strong>remove</strong>: The function of remove is to remove a specific RPM package from the system.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>: The <code>remove</code> function is a method of the <code>Package</code> class, which is defined in the <code>rpm.py</code> file. It first retrieves the removal command for the package, which is stored in the <code>__remove_command</code> attribute of the class. Then, it appends the name of the package to the removal command. Finally, it uses the <code>subprocess.check_call</code> function to execute the removal command and returns the exit code of the command.</p>
<p>The <code>remove</code> function is called by the <code>remove_rpm</code> function, which is defined in the same file as the <code>Package</code> class. The <code>remove_rpm</code> function takes the name of the RPM package as a parameter and creates an instance of the <code>Package</code> class with that name. It then calls the <code>remove</code> method of the <code>Package</code> instance to remove the package from the system.</p>
<p>The <code>remove</code> function is also called by the <code>action</code> method of the <code>Package</code> class. The <code>action</code> method checks whether the package is installed or not, and if it is installed, it calls the <code>remove</code> method to remove the package.</p>
<p><strong>Note</strong>: It is important to note that the <code>remove</code> function does not check whether the package is installed or not before attempting to remove it. Therefore, it is recommended to call the <code>remove</code> function only after checking that the package is installed, to avoid errors.</p>
<p><strong>Output Example</strong>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output of the <code>remove</code> function is the exit code of the removal command. A return value of 0 indicates that the package was removed successfully.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-reprself">FunctionDef <strong>repr</strong>(self)<a href="#functiondef-reprself" class="hash-link" aria-label="Direct link to functiondef-reprself" title="Direct link to functiondef-reprself">​</a></h3>
<p><strong><code>__repr__</code></strong>: The function of <code>__repr__</code> is to return a human-readable representation of the object, which is also a string and can be evaluated to get the object back.</p>
<p><strong>Parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The <code>__repr__</code> function is a special method in Python, which is called when the <code>repr()</code> built-in function is called, or when a string representation of the object is required in some way. In this case, the function simply returns the <code>package_name</code> attribute of the object. This means that the string representation of the object will be the same as its package name.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The returned string should be a valid Python expression that can be used to recreate the object. In this case, it is not possible to recreate the object from the returned string, as it does not contain enough information.</li>
<li>It is recommended to include the class name in the string representation of the object, to make it more informative.</li>
</ul>
<p><strong>Output Example</strong>:
Assuming that the <code>package_name</code> attribute of the object is <code>&quot;numpy&quot;</code>, the output of the <code>__repr__</code> function will be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;numpy&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This output can be used to identify the object in the debugger or in the interactive interpreter, but it does not provide enough information to recreate the object.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-strself">FunctionDef <strong>str</strong>(self)<a href="#functiondef-strself" class="hash-link" aria-label="Direct link to functiondef-strself" title="Direct link to functiondef-strself">​</a></h3>
<p><strong><code>__str__</code></strong>: The function of <code>__str__</code> is to return a human-readable string representation of the object.</p>
<p><strong>parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The <code>__str__</code> function is a special method in Python that is called when the <code>str()</code> function is called on an instance of a class. In this case, when the <code>str()</code> function is called on an instance of the <code>Package</code> class, it will return the value of the <code>package_name</code> attribute of that instance.</p>
<p>The implementation of the <code>__str__</code> function in this code is quite simple, it simply returns the value of the <code>package_name</code> attribute of the object it is called on.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>__str__</code> method is different from the <code>__repr__</code> method. The <code>__repr__</code> method is called by the <code>repr()</code> function and should return a string that can be evaluated to create a new instance of the class. The <code>__str__</code> method, on the other hand, should return a string that is human-readable and can be used for debugging and logging purposes.</li>
<li>The <code>__str__</code> method should return a string, if it doesn&#x27;t, it will raise a <code>TypeError</code>.</li>
</ul>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">package </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Package</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">package_name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;mypackage&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">package</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Output: mypackage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the <code>Package</code> instance <code>package</code> has a <code>package_name</code> attribute with the value &#x27;mypackage&#x27;. When the <code>print()</code> function is called on the <code>package</code> instance, it internally calls the <code>str()</code> function on it, which in turn calls the <code>__str__</code> method. The output of the <code>print()</code> function is the value returned by the <code>__str__</code> method, which is &#x27;mypackage&#x27; in this case.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-update">FunctionDef update<a href="#functiondef-update" class="hash-link" aria-label="Direct link to FunctionDef update" title="Direct link to FunctionDef update">​</a></h2>
<p><strong>update</strong>: The function of update is to execute the command &#x27;/usr/bin/apt-get update&#x27; which updates the APT-RPM database.</p>
<p><strong>Parameters</strong>: This function does not take any parameters.</p>
<p><strong>Code Description</strong>:
The function &#x27;update&#x27; is a simple function that uses the &#x27;subprocess.check_call&#x27; method to run the command &#x27;/usr/bin/apt-get update&#x27; with the argument being a list containing the command and its arguments. The &#x27;subprocess.check_call&#x27; method runs the command and waits for it to complete, raising a CalledProcessError if the return code is non-zero. This function is used to update the APT-RPM database, which is used to manage packages in a system.</p>
<p>This function is called in the &#x27;gpoa/frontend/package_applier.py&#x27; file. The package_applier.py file is responsible for applying packages in the system. Before applying the packages, it calls the &#x27;update&#x27; function to ensure that the APT-RPM database is up-to-date, so that the latest package information is available for installation.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>This function does not take any parameters, so there is no need to pass any arguments when calling this function.</li>
<li>The function &#x27;subprocess.check_call&#x27; raises an exception if the command returns a non-zero exit status. Therefore, it is important to ensure that the command &#x27;/usr/bin/apt-get update&#x27; runs successfully, otherwise, it will cause the program to terminate.</li>
<li>The function &#x27;update&#x27; is an idempotent function, meaning that it can be called multiple times without changing the result beyond the initial application. This is useful in situations where the function is called multiple times, for example, in a loop, and you want to ensure that the APT-RPM database is always up-to-date before applying the packages.</li>
<li>It is important to ensure that the command &#x27;/usr/bin/apt-get update&#x27; is available on the system and has the necessary permissions to execute. If the command is not available or does not have the necessary permissions, it will cause the function to raise an exception.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-install_rpmrpm_name">FunctionDef install_rpm(rpm_name)<a href="#functiondef-install_rpmrpm_name" class="hash-link" aria-label="Direct link to FunctionDef install_rpm(rpm_name)" title="Direct link to FunctionDef install_rpm(rpm_name)">​</a></h2>
<p><strong>install_rpm</strong>: The function of install_rpm is to install a single RPM package by creating a Package object with the given package name and calling the install() method of that object.</p>
<p><strong>parameters</strong>:
· rpm_name (str): The name of the RPM package to be installed.</p>
<p><strong>Code Description</strong>:
The install_rpm function is a simple function that takes a single parameter, rpm_name, which is the name of the RPM package to be installed. It creates a Package object with the given package name and calls the install() method of that object.</p>
<p>The Package class is defined in the gpoa/util/rpm.py module and provides methods to manage the installation, reinstallation, and removal of RPM packages using the yum package manager. The Package class is initialized with a package_name, which can optionally end with a &#x27;-&#x27; character to indicate that the package should be marked for removal instead of installation. The installed attribute is initialized by checking if the package is currently installed using the is_rpm_installed function (not shown in the provided code).</p>
<p>The Package class provides several methods to manage the package:</p>
<p>· mark_for_install(): Sets the for_install attribute to True, indicating that the package should be installed.</p>
<p>· mark_for_removal(): Sets the for_install attribute to False, indicating that the package should be removed.</p>
<p>· is_installed(): Returns the installed attribute.</p>
<p>· is_for_install(): Returns the for_install attribute.</p>
<p>· is_for_removal(): Returns the negation of the for_install attribute.</p>
<p>· action(): Performs the appropriate action based on the for_install attribute. If the package is marked for installation and is not currently installed, the install() method is called. If the package is marked for removal and is currently installed, the remove() method is called.</p>
<p>· install(): Installs the package using the yum install command.</p>
<p>The install_rpm function is called by the install_rpms function in the gpoa/util/rpm.py module, which installs a set of RPM packages sequentially. The install_rpms function takes a list of RPM package names as a parameter and calls the install_rpm function for each package name in the list.</p>
<p><strong>Note</strong>:</p>
<p>· The Package class assumes that the system has the yum package manager installed and that the package names are valid RPM package names.</p>
<p>· The Package class does not handle errors that may occur during the installation, reinstallation, or removal of packages.</p>
<p>· The Package class does not provide a method to update packages.</p>
<p><strong>Output Example</strong>:
For the install_rpm function, there is no single output example as it installs a single RPM package, and its output will depend on the package name and the current state of the system. However, here is an example of how the install_rpm function can be used to install a package:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">install_rpm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;wget&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the install_rpm function is called with the package name &#x27;wget&#x27;, which is not currently installed. The function installs the package, and the exit code of the command is returned, which is 0 in this case, indicating that the installation was successful.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-remove_rpmrpm_name">FunctionDef remove_rpm(rpm_name)<a href="#functiondef-remove_rpmrpm_name" class="hash-link" aria-label="Direct link to FunctionDef remove_rpm(rpm_name)" title="Direct link to FunctionDef remove_rpm(rpm_name)">​</a></h2>
<p><strong>remove_rpm</strong>: The function of remove_rpm is to remove a specific RPM package from the system by creating a Package object with the given package name and marking it for removal, then calling the remove() method of the Package object.</p>
<p><strong>parameters</strong>:
· rpm_name (str): The name of the RPM package to be removed.</p>
<p><strong>Code Description</strong>:
The remove_rpm function is defined in the rpm.py module and is a part of the Package management system. It takes a single parameter, rpm_name, which is the name of the RPM package to be removed.</p>
<p>The function first creates a Package object with the given rpm_name. If the package name ends with a &#x27;-&#x27;, the package is marked for removal instead of installation. The installed attribute is initialized by checking if the package is currently installed using the is_rpm_installed function (not shown in the provided code).</p>
<p>The function then calls the remove() method of the Package object, which removes the package using the apt-get remove command. The exit code of the removal command is returned by the function.</p>
<p>The remove_rpm function is called by the remove_rpms function, which is defined in the same rpm.py module. The remove_rpms function takes a list of RPM package names and removes each package sequentially using the remove_rpm function.</p>
<p>The remove_rpm function is also called by the package_applier.py module, which is a part of the frontend package of the project. The package_applier.py module applies a set of package operations (installation, removal, or reinstallation) to a list of RPM package names.</p>
<p><strong>Note</strong>:
· The Package class assumes that the system has the apt package manager installed and that the package names are valid Debian package names.
· The Package class does not handle errors that may occur during the removal of packages.
· It is recommended to call the remove_rpm function only after checking that the package is installed, to avoid errors.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remove_rpm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;wget&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the remove_rpm function is called with the package name &#x27;wget&#x27;, which is currently installed. The function returns the exit code 0, indicating that the package was removed successfully.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-install_rpmsrpm_names">FunctionDef install_rpms(rpm_names)<a href="#functiondef-install_rpmsrpm_names" class="hash-link" aria-label="Direct link to FunctionDef install_rpms(rpm_names)" title="Direct link to FunctionDef install_rpms(rpm_names)">​</a></h2>
<p><strong>install_rpms</strong>: The function of install_rpms is to install a set of RPM packages sequentially by calling the install_rpm function for each package name in the provided list.</p>
<p><strong>parameters</strong>:
· rpm_names (list): A list of RPM package names to be installed.</p>
<p><strong>Code Description</strong>:
The install_rpms function is defined in the gpoa/util/rpm.py module and takes a list of RPM package names as a parameter. It iterates through each package name in the list and calls the install_rpm function for each package name. The install_rpm function creates a Package object with the given package name and calls the install() method of that object to install the package.</p>
<p>The Package class is defined in the gpoa/util/rpm.py module and provides methods to manage the installation, reinstallation, and removal of RPM packages using the yum package manager. The Package class is initialized with a package_name, which can optionally end with a &#x27;-&#x27; character to indicate that the package should be marked for removal instead of installation. The installed attribute is initialized by checking if the package is currently installed using the is_rpm_installed function (not shown in the provided code).</p>
<p>The Package class provides several methods to manage the package:</p>
<p>· mark_for_install(): Sets the for_install attribute to True, indicating that the package should be installed.</p>
<p>· mark_for_removal(): Sets the for_install attribute to False, indicating that the package should be removed.</p>
<p>· is_installed(): Returns the installed attribute.</p>
<p>· is_for_install(): Returns the for_install attribute.</p>
<p>· is_for_removal(): Returns the negation of the for_install attribute.</p>
<p>· action(): Performs the appropriate action based on the for_install attribute. If the package is marked for installation and is not currently installed, the install() method is called. If the package is marked for removal and is currently installed, the remove() method is called.</p>
<p>· install(): Installs the package using the yum install command.</p>
<p>The install_rpms function is called by the test_install_rpm function in the gpoa/test/util/test_rpm.py/RPMTestCase module, which installs a set of RPM packages for testing purposes.</p>
<p><strong>Note</strong>:</p>
<p>· The Package class assumes that the system has the yum package manager installed and that the package names are valid RPM package names.</p>
<p>· The Package class does not handle errors that may occur during the installation, reinstallation, or removal of packages.</p>
<p>· The Package class does not provide a method to update packages.</p>
<p><strong>Output Example</strong>:
For the install_rpms function, there is no single output example as it installs a set of RPM packages, and its output will depend on the package names and the current state of the system. However, here is an example of how the install_rpms function can be used to install a set of packages:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">install_rpms</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;tortoisehg&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;csync&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the install_rpms function is called with the package names &#x27;tortoisehg&#x27; and &#x27;csync&#x27;, which are not currently installed. The function installs the packages, and the exit codes of the commands are returned in a list, which are 0 in this case, indicating that the installation was successful for both packages.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-remove_rpmsrpm_names">FunctionDef remove_rpms(rpm_names)<a href="#functiondef-remove_rpmsrpm_names" class="hash-link" aria-label="Direct link to FunctionDef remove_rpms(rpm_names)" title="Direct link to FunctionDef remove_rpms(rpm_names)">​</a></h2>
<p><strong>remove_rpms</strong>: The function of remove_rpms is to remove a set of RPM packages sequentially from the system by calling the remove_rpm function for each package name in the input list.</p>
<p><strong>parameters</strong>:
· rpm_names (list): A list of RPM package names to be removed.</p>
<p><strong>Code Description</strong>:
The remove_rpms function is defined in the rpm.py module and is a part of the Package management system. It takes a single parameter, rpm_names, which is a list of RPM package names to be removed.</p>
<p>For each package name in the input list, the function calls the remove_rpm function, which creates a Package object with the given package name, marks it for removal, and then calls the remove() method of the Package object to remove the package using the apt-get remove command.</p>
<p>The remove_rpms function is called by the RPMTestCase.test_remove_rpm test case in the test_rpm.py module, which is a part of the testing package of the project. The RPMTestCase.test_remove_rpm test case tests the remove_rpms function by passing a list of RPM package names to it.</p>
<p>The remove_rpms function is also called by the package_applier.py module, which is a part of the frontend package of the project. The package_applier.py module applies a set of package operations (installation, removal, or reinstallation) to a list of RPM package names.</p>
<p><strong>Note</strong>:
· The Package class assumes that the system has the apt package manager installed and that the package names are valid Debian package names.
· The Package class does not handle errors that may occur during the removal of packages.
· It is recommended to call the remove_rpms function only after checking that the packages are installed, to avoid errors.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> rpm</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">remove_rpms</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;wget&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;curl&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example, the remove_rpms function is called with the package names &#x27;wget&#x27; and &#x27;curl&#x27;, which are currently installed. The function returns a list of exit codes, indicating that the packages were removed successfully.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/gpupdate-docs/docs/gpoa/util/roles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">roles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/gpupdate-docs/docs/gpoa/util/samba"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">samba</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functiondef-is_rpm_installedrpm_name" class="table-of-contents__link toc-highlight">FunctionDef is_rpm_installed(rpm_name)</a></li><li><a href="#classdef-package" class="table-of-contents__link toc-highlight">ClassDef Package</a><ul><li><a href="#functiondef-initself-package_name" class="table-of-contents__link toc-highlight">FunctionDef <strong>init</strong>(self, package_name)</a></li><li><a href="#functiondef-mark_for_installself" class="table-of-contents__link toc-highlight">FunctionDef mark_for_install(self)</a></li><li><a href="#functiondef-mark_for_removalself" class="table-of-contents__link toc-highlight">FunctionDef mark_for_removal(self)</a></li><li><a href="#functiondef-is_installedself" class="table-of-contents__link toc-highlight">FunctionDef is_installed(self)</a></li><li><a href="#functiondef-is_for_installself" class="table-of-contents__link toc-highlight">FunctionDef is_for_install(self)</a></li><li><a href="#functiondef-is_for_removalself" class="table-of-contents__link toc-highlight">FunctionDef is_for_removal(self)</a></li><li><a href="#functiondef-actionself" class="table-of-contents__link toc-highlight">FunctionDef action(self)</a></li><li><a href="#functiondef-installself" class="table-of-contents__link toc-highlight">FunctionDef install(self)</a></li><li><a href="#functiondef-reinstallself" class="table-of-contents__link toc-highlight">FunctionDef reinstall(self)</a></li><li><a href="#functiondef-removeself" class="table-of-contents__link toc-highlight">FunctionDef remove(self)</a></li><li><a href="#functiondef-reprself" class="table-of-contents__link toc-highlight">FunctionDef <strong>repr</strong>(self)</a></li><li><a href="#functiondef-strself" class="table-of-contents__link toc-highlight">FunctionDef <strong>str</strong>(self)</a></li></ul></li><li><a href="#functiondef-update" class="table-of-contents__link toc-highlight">FunctionDef update</a></li><li><a href="#functiondef-install_rpmrpm_name" class="table-of-contents__link toc-highlight">FunctionDef install_rpm(rpm_name)</a></li><li><a href="#functiondef-remove_rpmrpm_name" class="table-of-contents__link toc-highlight">FunctionDef remove_rpm(rpm_name)</a></li><li><a href="#functiondef-install_rpmsrpm_names" class="table-of-contents__link toc-highlight">FunctionDef install_rpms(rpm_names)</a></li><li><a href="#functiondef-remove_rpmsrpm_names" class="table-of-contents__link toc-highlight">FunctionDef remove_rpms(rpm_names)</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/gpupdate-docs/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>