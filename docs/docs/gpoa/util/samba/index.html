<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-gpoa/util/samba" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">samba | GPUpdate Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gpupdate-docs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gpupdate-docs.github.io/docs/gpoa/util/samba"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="samba | GPUpdate Docs"><meta data-rh="true" name="description" content="ClassDef smbopts"><meta data-rh="true" property="og:description" content="ClassDef smbopts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gpupdate-docs.github.io/docs/gpoa/util/samba"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/util/samba" hreflang="en"><link data-rh="true" rel="alternate" href="https://gpupdate-docs.github.io/docs/gpoa/util/samba" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d27c289a.css">
<script src="/assets/js/runtime~main.e7149247.js" defer="defer"></script>
<script src="/assets/js/main.19b81b89.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GPUpdate Docs</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/gpoa/backend/applier_backend">gpoa</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/backend/applier_backend">backend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/frontend/applier_frontend">frontend</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/gpt/">gpt</a><button aria-label="Expand sidebar category &#x27;gpt&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/gpoa/plugin/">plugin</a><button aria-label="Expand sidebar category &#x27;plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/storage/cache">storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/gpoa/test/frontend/appliers/test_controls">test</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/gpoa/util/">util</a><button aria-label="Collapse sidebar category &#x27;util&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/arguments">arguments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/config">config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/dbus">dbus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/exceptions">exceptions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/gpoa_ini_parsing">gpoa_ini_parsing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/kerberos">kerberos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/logging">logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/paths">paths</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/preg">preg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/roles">roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/rpm">rpm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/gpoa/util/samba">samba</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/sid">sid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/signals">signals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/system">system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/users">users</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/windows">windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/xdg">xdg</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gpoa/util/xml">xml</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tools/parsing_chrom_admx_intvalues">tools</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">gpoa</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/gpoa/util/"><span itemprop="name">util</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">samba</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>samba</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="classdef-smbopts">ClassDef smbopts<a href="#classdef-smbopts" class="hash-link" aria-label="Direct link to ClassDef smbopts" title="Direct link to ClassDef smbopts">​</a></h2>
<p><strong>smbopts</strong>: The function of smbopts is to provide a way to interact with Samba&#x27;s loadparm object, which is used to read configuration files such as <code>smb.conf</code>. It also provides methods to get properties from the loadparm object.</p>
<p><strong>attributes</strong>:
· <code>prog</code>: A string that represents the name of the program. It is used as the prog option in the <code>optparse.OptionParser</code> constructor.</p>
<p><strong>Code Description</strong>:
The <code>smbopts</code> class is defined with several methods that interact with the Samba loadparm object. In the <code>__init__</code> method, an <code>optparse.OptionParser</code> object and a <code>options.SambaOptions</code> object are created. The <code>options.SambaOptions</code> object is used to get the loadparm object, which is stored in the <code>lp</code> attribute.</p>
<p>The <code>get_realm</code> method returns the default realm specified in the <code>smb.conf</code> file. The <code>get_cache_dir</code> method returns the cache directory specified in the <code>smb.conf</code> file. The <code>get_server_role</code> method returns the server role specified in the <code>smb.conf</code> file. The <code>get_machine_name</code> method returns the localhost name looking like <code>DC0$</code>. The <code>get_netbios_name</code> method returns the netbios name specified in the <code>smb.conf</code> file. The <code>_get_prop</code> method is a private method that returns the value of a property from the loadparm object.</p>
<p>The <code>smbopts</code> class is used in the <code>gpoa/util/kerberos.py</code> module in the <code>machine_kinit</code> function to get the realm and netbios name of the local machine. It is also used in the <code>gpoa/util/util.py</code> module in the <code>get_machine_name</code> function to get the localhost name. Additionally, it is used in the <code>gpoa/util/windows.py</code> module in the <code>smbcreds</code> class to get the loadparm object and set the domain controller for the class.</p>
<p><strong>Note</strong>:
The <code>smbopts</code> class should only be used to interact with the Samba loadparm object and get properties from it. It is not recommended to modify the loadparm object using this class.</p>
<p><strong>Output Example</strong>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">opts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> smbopts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_realm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_cache_dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_server_role</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_machine_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_netbios_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will output the default realm, cache directory, server role, localhost name, and netbios name specified in the <code>smb.conf</code> file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-initself-prog">FunctionDef <strong>init</strong>(self, prog)<a href="#functiondef-initself-prog" class="hash-link" aria-label="Direct link to functiondef-initself-prog" title="Direct link to functiondef-initself-prog">​</a></h3>
<p><strong><strong>init</strong></strong>: The function of <strong>init</strong> is to initialize the Smbopts object.</p>
<p><strong>parameters</strong>:
· prog: This is an optional parameter, which is a string that specifies the name of the program. If not provided, the name of the program will be determined by the system.</p>
<p><strong>Code Description</strong>:
The first line of the code creates an instance of the OptionParser class, which is used to parse command-line options. The prog argument is used to specify the name of the program, which is used in the help output.</p>
<p>The second line creates an instance of the SambaOptions class, which is a user-defined class that handles the parsing of Samba-specific command-line options. The instance is created with the parser object as its argument, which allows the SambaOptions class to add its own options to the parser.</p>
<p>The third line calls the get_loadparm() method of the SambaOptions instance, which returns a LoadParm object. This object is stored in the lp attribute and can be used to access the parsed options.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The prog argument in the <strong>init</strong> method is optional, but it is recommended to provide a value for it to make the help output more clear and informative.</li>
<li>The SambaOptions class should have been defined before the Smbopts class, and it should have the get_loadparm() method.</li>
<li>The LoadParm object returned by the get_loadparm() method should have the necessary options and values set, which can be used for further processing.</li>
</ul>
<p>It is important to note that this code is just initializing the object and setting up the option parser, it doesn&#x27;t actually parse any options yet. The parsing of options is usually done in a separate method, which is called after the object is initialized.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-get_realmself">FunctionDef get_realm(self)<a href="#functiondef-get_realmself" class="hash-link" aria-label="Direct link to FunctionDef get_realm(self)" title="Direct link to FunctionDef get_realm(self)">​</a></h3>
<p><strong>get_realm</strong>: The function of <code>get_realm</code> is to retrieve the default realm specified in the Samba configuration file (smb.conf).</p>
<p><strong>parameters</strong>:
· <code>self</code>: The object instance that <code>get_realm</code> is called upon. This parameter is a reference to the Samba object and is used to access the Samba object&#x27;s properties dictionary (<code>self.lp</code>).</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-get_cache_dirself">FunctionDef get_cache_dir(self)<a href="#functiondef-get_cache_dirself" class="hash-link" aria-label="Direct link to FunctionDef get_cache_dir(self)" title="Direct link to FunctionDef get_cache_dir(self)">​</a></h3>
<p><strong>get_cache_dir</strong>: The function of get_cache_dir is to retrieve the &#x27;cache directory&#x27; property value from the Samba object&#x27;s properties dictionary using the internal _get_prop function.</p>
<p><strong>parameters</strong>:
· <code>self</code>: The Samba object instance. This is required to access the Samba object&#x27;s properties dictionary.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-get_server_roleself">FunctionDef get_server_role(self)<a href="#functiondef-get_server_roleself" class="hash-link" aria-label="Direct link to FunctionDef get_server_role(self)" title="Direct link to FunctionDef get_server_role(self)">​</a></h3>
<p><strong>get_server_role</strong>: The function of <code>get_server_role</code> is to retrieve the &#x27;server role&#x27; property value from the Samba object&#x27;s properties dictionary.</p>
<p><strong>parameters</strong>:
· <code>self</code>: The Samba object instance. This object contains the properties dictionary that holds the Samba server&#x27;s configuration properties.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-get_machine_nameself">FunctionDef get_machine_name(self)<a href="#functiondef-get_machine_nameself" class="hash-link" aria-label="Direct link to FunctionDef get_machine_name(self)" title="Direct link to FunctionDef get_machine_name(self)">​</a></h3>
<p><strong>get_machine_name</strong>: The function of <code>get_machine_name</code> is to retrieve the machine name in the format of &quot;DC0$&quot;.</p>
<p><strong>parameters</strong>:
· <code>self</code>: The Samba object instance. This object contains the properties dictionary that holds the Samba configuration data.</p>
<p><strong>Code Description</strong>:
The <code>get_machine_name</code> function first calls the <code>get_netbios_name</code> function, which is a method of the Samba object and retrieves the &#x27;netbios name&#x27; property value from the Samba object&#x27;s properties dictionary. If the &#x27;netbios name&#x27; is not set, the function uses the <code>socket.gethostname()</code> method to get the current hostname and takes the portion before the first dot as the machine name. The machine name is then appended with a &quot;$&quot; character to match the required format.</p>
<p>The <code>get_machine_name</code> function is a useful utility for obtaining the machine name in the format required by Samba. It can be used in conjunction with other Samba configuration functions to ensure that the Samba service is correctly configured for the local machine.</p>
<p><strong>Note</strong>:
The <code>get_machine_name</code> function assumes that the Samba object has been correctly initialized and contains a valid properties dictionary. If the <code>get_netbios_name</code> function returns an empty string, the function will still return a valid machine name, but it may not match the actual netbios name of the machine.</p>
<p><strong>Output Example</strong>:
A possible return value of the <code>get_machine_name</code> function is &quot;DC0$&quot; if the &#x27;netbios name&#x27; property is set to &quot;DC0&quot; in the Samba object&#x27;s properties dictionary. If the &#x27;netbios name&#x27; property is not set, the function will return the machine&#x27;s hostname in the format of &quot;HOSTNAME$&quot;.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-get_netbios_nameself">FunctionDef get_netbios_name(self)<a href="#functiondef-get_netbios_nameself" class="hash-link" aria-label="Direct link to FunctionDef get_netbios_name(self)" title="Direct link to FunctionDef get_netbios_name(self)">​</a></h3>
<p><strong>get_netbios_name</strong>: The function of <code>get_netbios_name</code> is to retrieve the &#x27;netbios name&#x27; property value from the Samba object&#x27;s properties dictionary.</p>
<p><strong>parameters</strong>:
· <code>self</code>: The Samba object instance. This object contains the properties dictionary that holds the Samba configuration data.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="functiondef-_get_propself-property_name">FunctionDef _get_prop(self, property_name)<a href="#functiondef-_get_propself-property_name" class="hash-link" aria-label="Direct link to FunctionDef _get_prop(self, property_name)" title="Direct link to FunctionDef _get_prop(self, property_name)">​</a></h3>
<p><strong><code>_get_prop</code></strong>: The function of <code>_get_prop</code> is to retrieve the property value from the Samba object&#x27;s properties dictionary.</p>
<p><strong>parameters</strong>:
· <code>property_name</code> (str): The name of the property to be retrieved from the Samba object&#x27;s properties dictionary.</p>
<p><strong>Code Description</strong>:
The <code>_get_prop</code> function takes a single parameter, <code>property_name</code>, which is a string representing the name of the property to be retrieved. It then returns the value of the property with the given name from the Samba object&#x27;s properties dictionary (<code>self.lp</code>).</p>
<p>This function is used internally by other methods in the Samba object to retrieve specific properties from the <code>self.lp</code> dictionary. By encapsulating the retrieval of properties within this function, it allows for a more maintainable and organized codebase.</p>
<p>For example, when calling <code>self._get_prop(&#x27;realm&#x27;)</code>, the function will return the value associated with the &#x27;realm&#x27; key in the <code>self.lp</code> dictionary.</p>
<p><strong>Note</strong>:</p>
<ul>
<li>The <code>property_name</code> parameter should always be a string representing a valid key in the <code>self.lp</code> dictionary.</li>
<li>The <code>_get_prop</code> function is intended for internal use within the Samba object and should not be called directly by external code.</li>
</ul>
<p><strong>Output Example</strong>:
Assuming the <code>self.lp</code> dictionary contains the following data:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;realm&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EXAMPLE.COM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;cache directory&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/var/cache/samba&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;server role&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;active directory domain controller&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;netbios name&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EXAMPLE&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A call to <code>self._get_prop(&#x27;realm&#x27;)</code> would return the string &#x27;EXAMPLE.COM&#x27;, while a call to <code>self._get_prop(&#x27;cache directory&#x27;)</code> would return the string &#x27;/var/cache/samba&#x27;.</p>
<hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/gpoa/util/rpm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">rpm</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/gpoa/util/sid"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">sid</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classdef-smbopts" class="table-of-contents__link toc-highlight">ClassDef smbopts</a><ul><li><a href="#functiondef-initself-prog" class="table-of-contents__link toc-highlight">FunctionDef <strong>init</strong>(self, prog)</a></li><li><a href="#functiondef-get_realmself" class="table-of-contents__link toc-highlight">FunctionDef get_realm(self)</a></li><li><a href="#functiondef-get_cache_dirself" class="table-of-contents__link toc-highlight">FunctionDef get_cache_dir(self)</a></li><li><a href="#functiondef-get_server_roleself" class="table-of-contents__link toc-highlight">FunctionDef get_server_role(self)</a></li><li><a href="#functiondef-get_machine_nameself" class="table-of-contents__link toc-highlight">FunctionDef get_machine_name(self)</a></li><li><a href="#functiondef-get_netbios_nameself" class="table-of-contents__link toc-highlight">FunctionDef get_netbios_name(self)</a></li><li><a href="#functiondef-_get_propself-property_name" class="table-of-contents__link toc-highlight">FunctionDef _get_prop(self, property_name)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/gpoa/backend/samba_backend">Samba Backend</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 BaseALT LTD, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>